!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);var r,i,a=function(){function t(t,e){this.x=t,this.y=e}return t.prototype.add=function(e){return new t(e.x+this.x,e.y+this.y)},t.prototype.sub=function(e){return new t(this.x-e.x,this.y-e.y)},t.prototype.mult=function(e){return new t(this.x*e,this.y*e)},t.prototype.round=function(){return new t(Math.round(this.x),Math.round(this.y))},t}(),s=function(){function t(t){this._canvas=t;var e=this._canvas.getContext("2d");if(null==e)throw"Couldn't extract context from canvas";this._context=e,this._scale=this._canvas.width/1e3}return t.prototype.draw=function(t){var e=this;this._context.drawImage(t.stage,0,0,this._canvas.width,this._canvas.height),t.actors().forEach((function(n){e.draw_transform(n.view,n.coordinates,n.angle),n.sensors.forEach((function(t){return e.in_transform(n.coordinates,n.angle+t.angle,(function(e){e.beginPath(),e.moveTo(0,0),e.lineTo(0,t.distance),e.stroke(),e.fillStyle="red",e.fillRect(-5,t.value-5,10,10)}))})),e.in_transform(new a(0,0),0,(function(e){e.beginPath(),e.moveTo(n.coordinates.x,n.coordinates.y),e.lineTo(t.target.x,t.target.y),e.stroke()}))}))},t.prototype.scale=function(t){return t.mult(1/this._scale)},t.prototype.draw_transform=function(t,e,n){this.in_transform(e,n,(function(e){return e.drawImage(t,-t.width/2,-t.height/2)}))},t.prototype.in_transform=function(t,e,n){this._context.save(),this._context.scale(this._scale,this._scale),this._context.translate(t.x,t.y),this._context.rotate(e),n(this._context),this._context.restore()},t}();function o(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){e(createImageBitmap(r))},r.onerror=n,r.src=t}))}function u(t){return t<i.StrongLeft}function l(t){return t>=r.TStrongLeft}!function(t){t[t.VeryClose=1]="VeryClose",t[t.Close=2]="Close",t[t.Medium=4]="Medium",t[t.Far=8]="Far",t[t.TStrongLeft=16]="TStrongLeft",t[t.TLeft=32]="TLeft",t[t.TRight=64]="TRight",t[t.TStrongRight=128]="TStrongRight",t[t.TClose=256]="TClose",t[t.TFar=512]="TFar"}(r||(r={})),function(t){t[t.VerySlow=0]="VerySlow",t[t.Slow=1]="Slow",t[t.Medium=2]="Medium",t[t.Fast=3]="Fast",t[t.StrongLeft=4]="StrongLeft",t[t.Left=5]="Left",t[t.Right=6]="Right",t[t.StrongRight=7]="StrongRight"}(i||(i={}));var c=function(){function t(t){this.intervals=t}return t.prototype.eval=function(t){var e=this.intervals;return t<e[0]||t>e[3]?0:t<e[1]?(t-e[0])/(e[1]-e[0]):t>e[2]?(t-e[3])/(e[2]-e[3]):1},t.prototype.intervals_sliced=function(t){var e=this.intervals,n=this.deval_l(t),r=this.deval_r(t);return[e[0],n,r,e[3]]},t.prototype.deval_l=function(t){return t*(this.intervals[1]-this.intervals[0])+this.intervals[0]},t.prototype.deval_r=function(t){return t*(this.intervals[2]-this.intervals[3])+this.intervals[3]},t}(),h=function(){function t(t){this.in_dist_funcs=new Map,this.in_angl_funcs=new Map,this.in_t_dist_funcs=new Map,this.output_funcs=new Map;for(var e=0;e<4;e++){var n=t.distance.slice(2*e,2*e+4);this.in_dist_funcs.set(Math.pow(2,e),new c(n))}for(e=0;e<4;e++){n=t.angle.slice(2*e,2*e+4);this.in_angl_funcs.set(Math.pow(2,e+4),new c(n))}for(e=0;e<2;e++){n=t.target_dist.slice(2*e,2*e+4);this.in_t_dist_funcs.set(Math.pow(2,e+8),new c(n))}for(e=0;e<4;e++){n=t.speed.slice(2*e,2*e+4);this.output_funcs.set(e,new c(n))}for(e=0;e<4;e++){n=t.turn.slice(2*e,2*e+4);this.output_funcs.set(e+4,new c(n))}}return t.prototype.merge_params=function(t){var e=[];if(0==t.length)return[];var n=t[0],r=this.output_funcs.get(n.param),i=r.intervals_sliced(n.value);e.push({x:i[0],y:0}),e.push({x:i[1],y:n.value});for(var a={x:i[2],y:n.value},s=1;s<t.length;s++)n=t[s],i=(r=this.output_funcs.get(n.param)).intervals_sliced(n.value),n.value>.5&&a.y>.5?(e.push(a),e.push({x:r.deval_l(.5),y:.5}),e.push({x:i[1],y:n.value})):n.value>a.y?(e.push({x:r.deval_l(a.y),y:a.y}),e.push({x:i[1],y:n.value})):(e.push(a),e.push({x:r.deval_l(1-n.value),y:n.value})),a={x:i[2],y:n.value};return e.push(a),e.push({x:i[3],y:0}),e},t}();function d(t,e){var n={values:[]};return e.forEach((function(e,r){var i=e.eval(t);0!=i&&n.values.push({distance:r,value:i})})),n}function f(t){if(0==t.length)return 0;for(var e=0,n=0,r=0;r<t.length-1;r++){var i=t[r],a=t[r+1];e+=a.x*i.y-i.x*a.y,n+=(i.x+a.x)*(a.x*i.y-i.x*a.y)}return n/e/3}n(1);var p=new(function(){function t(){this.html_by_param=new Map;this.html_raw_distance=new Array(5),this.html_by_distance=new Array(5).fill(1).map((function(){return new Map})),this.html_by_target=new Map;var t=document.getElementById("sensors-fuzzy"),e=document.getElementById("sensor-fuzzy-target"),n=document.createElement("section");t.append(n),n.innerHTML="<header>Пиксели</header>";for(var a=0;a<5;a++){var s=document.createElement("section");s.classList.add("outparams");var o=document.createElement("section");for(var c in this.html_raw_distance[a]=o,s.append(o),r){if(Number.isNaN(parseInt(c)))if(!l(g=r[c])){var h=document.createElement("section");this.html_by_distance[a].set(g,h),s.append(h)}}t.append(s)}for(var c in r){if(Number.isNaN(parseInt(c)))if(l(g=r[c])){var d=document.createElement("article");(m=document.createElement("header")).innerText=c;h=document.createElement("section");d.append(m,h),this.html_by_target.set(g,h),e.append(d)}else{var f=document.createElement("header");f.innerText=c,n.append(f)}}var p=document.getElementById("fuzzy-speed"),_=document.getElementById("fuzzy-turn");for(var c in i)if(Number.isNaN(parseInt(c))){var m;d=document.createElement("article");(m=document.createElement("header")).innerText=c;h=document.createElement("section");d.append(m,h);var g=i[c];this.html_by_param.set(g,h),u(g)?p.append(d):_.append(d)}}return t.prototype.print_sensors_distance=function(t){this.html_raw_distance.forEach((function(e,n){return e.innerHTML=Number.isFinite(t[n])?t[n].toString():"&#8734"}))},t.prototype.print_sensors_fuzzy=function(t){var e=this;this.html_by_target.forEach((function(t,e){t.innerText="0"})),t.forEach((function(t,n){var r=null;n<e.html_by_distance.length?(r=e.html_by_distance[n]).forEach((function(t,e){t.innerText="0"})):r=e.html_by_target,r&&t.values.forEach((function(t){return(null==r?void 0:r.get(t.distance)).innerText=t.value.toFixed(2).toString()}))}))},t.prototype.print_fuzzy_speed=function(t){this.print_fuzzy_out_params(t,u)},t.prototype.print_fuzzy_turn=function(t){this.print_fuzzy_out_params(t,(function(t){return!u(t)}))},t.prototype.print_fuzzy_out_params=function(t,e){var n=this;this.html_by_param.forEach((function(t,n){e(n)&&(t.innerText="0")})),t.forEach((function(t){return n.html_by_param.get(t.param).innerText=(e=t.value,Number.isFinite(e)?e.toFixed(2).toString():"&#8734");var e}))},t}()),_=function(){function t(t,e){if(t.length>7)throw"INCORRECT ANTECEDENT IN RULE";this.antecedent=t;for(var n=0;n<7-t.length;n++)this.antecedent.push(null);this.consequent=e}return t.prototype.apply=function(t){for(var e=1,n=function(n){if(null==r.antecedent[n])return"continue";var i=r.antecedent[n],a=t[n].values.filter((function(t){return 0!=(t.distance&i)}));if(0==a.length)return{value:null};var s=Math.max.apply(Math,a.map((function(t){return t.value})));s<e&&(e=s)},r=this,i=0;i<7;i++){var a=n(i);if("object"==typeof a)return a.value}return{param:this.consequent,value:e}},t}(),m=[new _([null,null,r.Far,null,null,null,r.TFar],i.Medium),new _([null,null,r.Medium,null,null,r.TFar],i.Medium),new _([null,null,r.Close,null,null,r.TFar],i.Slow),new _([null,null,r.VeryClose,null,null],i.VerySlow),new _([null,null,null,null,null,null,r.TClose],i.VerySlow),new _([null,r.Medium,r.Medium,r.Far,null],i.Right),new _([null,v(r.Close),v(r.Close),g(r.Medium),null],i.StrongRight),new _([null,r.VeryClose,null,g(r.Close),null],i.StrongRight),new _([null,r.Far,r.Medium,r.Medium,null],i.Left),new _([null,g(r.Medium),v(r.Close),v(r.Close),null],i.StrongLeft),new _([null,g(r.Close),null,r.VeryClose,null],i.StrongLeft),new _([null,r.Far,g(r.Far),null,g(r.Medium),r.TStrongLeft],i.StrongLeft),new _([null,r.Far,g(r.Far),null,g(r.Medium),r.TLeft],i.Left),new _([g(r.Medium),null,g(r.Far),r.Far,null,r.TStrongRight],i.StrongRight),new _([g(r.Medium),null,g(r.Far),r.Far,null,r.TRight],i.Right),new _([null,r.Far,v(r.Medium),r.Far,null],i.StrongLeft),new _([null,r.Medium,r.Medium,r.Medium,null],i.StrongLeft),new _([v(r.Close),r.Far,null,null,null],i.Left),new _([null,null,null,r.Far,v(r.Close)],i.Right),new _([v(r.Close),v(r.Medium),g(r.Far),g(r.Far),g(r.Medium),r.TStrongRight],i.Right),new _([g(r.Medium),g(r.Far),g(r.Far),v(r.Medium),v(r.Close),r.TLeft],i.StrongLeft)];function g(t){return 1024-t}function v(t){return(t<<1)-1}var y=function(){function t(t){this.fuzzy_inputs=[],this.fuzzy_speed=[],this.fuzzy_turn=[],this.output_speed=0,this.output_turn=0,this.logic_methods=new h(t)}return t.prototype.update=function(t,e,n){var r=this;this.fuzzy_inputs=t.map((function(t){return d(t,r.logic_methods.in_dist_funcs)}));var i=d(e,this.logic_methods.in_angl_funcs),a=d(n,this.logic_methods.in_t_dist_funcs);this.fuzzy_inputs.push(i,a),this.eval_fuzzy_out_params(),this.output_speed=f(this.logic_methods.merge_params(this.fuzzy_speed)),this.output_turn=f(this.logic_methods.merge_params(this.fuzzy_turn)),this.print_info()},t.prototype.reset_outputs=function(){this.fuzzy_speed=[],this.fuzzy_turn=[]},t.prototype.eval_fuzzy_out_params=function(){this.reset_outputs();for(var t=0,e=m;t<e.length;t++){var n=e[t].apply(this.fuzzy_inputs);null!=n&&(u(n.param)?this.add_out_param(n,this.fuzzy_speed):this.add_out_param(n,this.fuzzy_turn))}},t.prototype.add_out_param=function(t,e){for(var n=0;n<e.length;){var r=e[n];if(t.param<r.param)break;if(t.param==r.param)return void(t.value>r.value&&(r.value=t.value));n++}e.splice(n,0,t)},t.prototype.print_info=function(){p.print_sensors_fuzzy(this.fuzzy_inputs),p.print_fuzzy_speed(this.fuzzy_speed),p.print_fuzzy_turn(this.fuzzy_turn)},t}(),w=Math.PI,x=function(){function t(t,e){var n=(t-5)/10;this.distance=[0,0,20,27,35,40,45,95,1/0,1/0].map((function(t){return t*n})),this.angle=[-w,-w,-3*w/4,-w/4,-w/4,w/4,w/4,3*w/4,w,w],this.target_dist=[0,0,2,3,1/0,1/0].map((function(t){return t*Math.max(e,100)})),this.speed=[0,0,0,15,18,20,e*(4/6),e*(5/6),1*e,1*e],this.turn=[-4*w/4,-4*w/4,-4*w/4,-w/4,w/4,w/4,w/4,4*w/4,4*w/4,4*w/4]}return t.validate_input_values=function(t,e,n){return(e>=7*t||e>=105)&&n>20&&n<=200&&t>5&&t<25},t}();new x(15,100);var M,z=(M=function(t,e){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}M(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),b=function(t,e){this.value=0,this.distance=t,this.angle=e},E=function(){this.angle=0,this.distance=0},T=function(){function t(t,e){this.view=t,this.coordinates=e.coordinates,this.angle=e.angle,this.speed=0,this.necessary_speed=100,this.wheel_angle=0,this.turn_radius=e.turn_radius,this.max_speed=e.max_speed,this.acceleration=e.acceleration,this.sensors=[new b(e.sensor_len,-Math.PI/2),new b(e.sensor_len,-Math.PI/4),new b(e.sensor_len,0),new b(e.sensor_len,Math.PI/4),new b(e.sensor_len,Math.PI/2)],this.target=new E,this.status=new y(new x(e.turn_radius,e.max_speed))}return Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!0,configurable:!0}),t}(),S=function(t){function e(e,n,r){var i=t.call(this,function(t){var e=document.createElement("canvas");e.height=t.height,e.width=t.width;var n=e.getContext("2d");if(!n)throw"Не получилось получить невидимый контекст невиданного канваса";return n.drawImage(t,0,0),n.getImageData(0,0,t.width,t.height)}(e))||this;return i.stage=e,i.car=n,i.target=r,i}return z(e,t),e.prototype.actors=function(){return[this.car]},e}(function(){function t(t){this.height=t.height,this.width=t.width,this.map=new Uint8Array(t.height*t.width);for(var e=function(e){n.map[e]=[0,1,2].map((function(n){return t.data[4*e+n]})).reduce((function(t,e){return Math.min(t,e)}))},n=this,r=0;r<this.map.length;r++)e(r)}return t.prototype.is_barrier=function(t){return t.x<0||t.y<0||t.x>this.width||t.y>this.height||255!==this.map[t.x+t.y*this.width]},t}()),I=function(){function t(t){this._map=t}return t.prototype.line_x=function(t,e,n){return(n-t.y)*(e.x-t.x)/(e.y-t.y)+t.x},t.prototype.my_max=function(t,e){return isNaN(t)?e:isNaN(e)?t:Math.max(t,e)},t.prototype.my_min=function(t,e){return isNaN(t)?e:isNaN(e)?t:Math.min(t,e)},t.prototype.update_sensor=function(t,e,n){for(var r=t.angle+n,i=Math.sin(r),s=Math.cos(r),o=0;o<t.distance;++o)if(this._map.is_barrier(e.add(new a(-o*i,o*s)).round()))return void(t.value=o);t.value=1/0},t.prototype.recorrect_angle=function(t){return t>Math.PI&&(t-=2*Math.PI),t<-Math.PI&&(t+=2*Math.PI),t},t.prototype.tick=function(t){for(var e=this,n=this._map.actors(),r=function(r){var s=n[r],o=Math.sin(s.angle),u=Math.cos(s.angle),l=s.coordinates,c=s.angle,h=s.speed*t;s.coordinates=s.coordinates.add(new a(-h*o,h*u));var d=Math.min(Math.abs(s.wheel_angle),Math.PI/4)*Math.sign(s.wheel_angle),f=2*s.turn_radius*Math.sqrt(1/Math.pow(Math.sin(d),2)-3/4);s.angle=i.recorrect_angle(s.angle+Math.sign(d)*h/f);var p=Math.min(Math.abs(s.necessary_speed),s.max_speed)*Math.sign(s.necessary_speed);s.speed>p&&(s.speed-=s.acceleration*t),s.speed<p&&(s.speed+=s.acceleration*t);for(var _=s.width/2,m=s.height/2,g=_*u-m*o,v=_*u+m*o,y=_*o+m*u,w=_*o-m*u,x=[new a(g,y),new a(v,w),new a(-g,-y),new a(-v,-w)],M=x[0].y,z=0,b=1;b<4;++b)x[b].y>M&&(M=x[b].y,z=b);for(var E=x[z].add(s.coordinates),T=x[(z+1)%4].add(s.coordinates),S=x[(z+2)%4].add(s.coordinates),I=x[(z+3)%4].add(s.coordinates),L=!1,F=Math.round(S.y);F<E.y&&!L;++F)for(var C=i.my_max(i.line_x(S,I,F),i.line_x(I,E,F)),P=i.my_min(i.line_x(S,T,F),i.line_x(T,E,F)),N=Math.round(C);N<P&&!L;++N)i._map.is_barrier(new a(N,F))&&(L=!0);L&&(s.coordinates=l,s.angle=c,s.speed=0),s.sensors.forEach((function(t){return e.update_sensor(t,s.coordinates,s.angle)}));var R=i._map.target.sub(s.coordinates);s.target.distance=Math.sqrt(R.x*R.x+R.y*R.y);var B=Math.acos(R.y/s.target.distance);s.target.angle=i.recorrect_angle(-Math.sign(R.x)*B-s.angle)},i=this,s=0;s<n.length;++s)r(s)},t}(),L=function(){function t(t){this._map=t}return t.prototype.tick=function(t){this._map.actors().forEach((function(t){var e=t.sensors.map((function(t){return t.value}));p.print_sensors_distance(e),t.status.update(e,t.target.angle,t.target.distance),t.necessary_speed=t.status.output_speed,t.wheel_angle=t.status.output_turn,t.target.distance<20&&(t.necessary_speed=0)}))},t}(),F={turn_radius:15,max_speed:100,acceleration:10,sensor_len:105,coordinates:new a(750,750),angle:0},C=new a(50,50),P=function(){function t(t){this.drawer=t,this.context=null,this.pause=!1,this.lastTimer=0,this.dt=.05}return t.prototype.setTarget=function(t){null!=this.context&&(this.context.map.target=t)},t.prototype.startSimulation=function(t){var e=this,n=new S(t.map,new T(t.car,t.car_settings),t.target);n.car.coordinates=t.car_settings.coordinates;var r=new I(n);this.context={map:n,car:n.car};var i=new L(n);this.timerCallback=function(){e.pause||(r.tick(e.dt),i.tick(e.dt)),e.drawer.draw(n)},this.restartTimer(t.time)},t.prototype.restartTimer=function(t){0!==this.lastTimer&&window.clearInterval(this.lastTimer),this.lastTimer=window.setInterval(this.timerCallback,1e3*this.dt/t)},t}();n(2);document.getElementById("max-speed").value=F.max_speed.toString(),document.getElementById("turn-radius").value=F.turn_radius.toString(),document.getElementById("sensor-length").value=F.sensor_len.toString();var N=document.getElementById("main"),R=new s(N),B=new P(R),O=document.getElementById("start-button");function j(){B.pause=!0,O.textContent="Continue"}function k(){B.pause=!1,O.textContent="Pause"}O.addEventListener("click",(function(t){B.pause?k():j()})),k(),Promise.all(["circus2.png","small_car.png"].map((function(t){return o("./resources/"+t)}))).then((function(t){var e={map:t[0],car:t[1],car_settings:F,target:C,time:1};B.startSimulation(e),document.getElementById("map-settings").addEventListener("submit",(function(t){var n,r,i=document.querySelector('input[type="file"]'),a=null===(n=null==i?void 0:i.files)||void 0===n?void 0:n.item(0);a&&(r=a,new Promise((function(t,e){var n=new FileReader;n.addEventListener("load",(function(e){t(n.result)})),n.addEventListener("error",e),n.readAsDataURL(r)}))).then(o).then((function(t){e.map=t,j(),B.startSimulation(e)})),t.preventDefault()})),document.getElementById("car-settings").addEventListener("submit",(function(t){t.preventDefault();var n=parseInt(document.getElementById("max-speed").value),r=parseInt(document.getElementById("turn-radius").value),i=parseInt(document.getElementById("sensor-length").value);if(null!=n&&null!=r&&null!=i){if(!x.validate_input_values(r,i,n))return void alert("Некорректные входные данные: \n"+x.validate_input_values.toString());e.car_settings.max_speed=n,e.car_settings.turn_radius=r,e.car_settings.sensor_len=i,j(),B.startSimulation(e)}}));var n=document.getElementById("tardis");n.addEventListener("submit",(function(t){t.preventDefault(),e.time=n.querySelector('input[type="number"]').valueAsNumber,B.restartTimer(e.time)})),N.addEventListener("click",(function(t){t.preventDefault();var n=t.pageX-N.offsetLeft,r=t.pageY-N.offsetTop;e.target=R.scale(new a(n,r)),B.setTarget(e.target)})),N.addEventListener("auxclick",(function(t){t.preventDefault();var n=t.pageX-N.offsetLeft,r=t.pageY-N.offsetTop;e.car_settings.coordinates=R.scale(new a(n,r)),j(),B.startSimulation(e)})),N.addEventListener("wheel",(function(t){t.preventDefault(),B.pause&&(null!=B.context&&(e.car_settings.coordinates=B.context.car.coordinates),e.car_settings.angle+=.002*t.deltaY,B.startSimulation(e))}))}))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2ljL2xvZ2ljX21ldGhvZHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2UvZ2VvbWV0cnkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2dyYXBoaWNzL2RyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW1hZ2UvaGVscGVycy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS9pbmZvX2Rpc3BsYXkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2ljL2xvZ2ljX3J1bGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2ljL2xvZ2ljX3N0YXR1cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9naWMvZnVuY3Rpb25faW50ZXJ2YWxzLnRzIiwid2VicGFjazovLy8uL3NyYy9iYXNlL2VudGl0aWVzLnRzIiwid2VicGFjazovLy8uL3NyYy9waGlzaWNzL3BoaXNpY3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZ2ljL2xvZ2ljLnRzIiwid2VicGFjazovLy8uL3NyYy9zaW11bGF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiSW5QYXJhbSIsIk91dFBhcmFtIiwieCIsInkiLCJ0aGlzIiwiYWRkIiwiUG9pbnQiLCJzdWIiLCJtdWx0IiwiYnkiLCJyb3VuZCIsIk1hdGgiLCJjYW52YXMiLCJfY2FudmFzIiwidGVtcF9jb250ZXh0IiwiZ2V0Q29udGV4dCIsIl9jb250ZXh0IiwiX3NjYWxlIiwid2lkdGgiLCJkcmF3IiwibWFwIiwiZHJhd0ltYWdlIiwic3RhZ2UiLCJoZWlnaHQiLCJhY3RvcnMiLCJmb3JFYWNoIiwiYWN0b3IiLCJkcmF3X3RyYW5zZm9ybSIsInZpZXciLCJjb29yZGluYXRlcyIsImFuZ2xlIiwic2Vuc29ycyIsInNlbnNvciIsImluX3RyYW5zZm9ybSIsImNvbnRleHQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJkaXN0YW5jZSIsInN0cm9rZSIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwidGFyZ2V0Iiwic2NhbGUiLCJwb2ludCIsImltZyIsImNvb3JkcyIsImFjdGlvbiIsInNhdmUiLCJ0cmFuc2xhdGUiLCJyb3RhdGUiLCJyZXN0b3JlIiwiZG93bmxvYWRCaXRtYXAiLCJwYXRoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJJbWFnZSIsIm9ubG9hZCIsImNyZWF0ZUltYWdlQml0bWFwIiwib25lcnJvciIsInNyYyIsImlzX3NwZWVkIiwidmFsIiwiU3Ryb25nTGVmdCIsImlzX3RhcmdldCIsIlRTdHJvbmdMZWZ0IiwiaW50ZXJ2YWxzIiwiZXZhbCIsImludHMiLCJpbnRlcnZhbHNfc2xpY2VkIiwidG9wX3ZhbCIsImEiLCJkZXZhbF9sIiwiYiIsImRldmFsX3IiLCJpbl9kaXN0X2Z1bmNzIiwiTWFwIiwiaW5fYW5nbF9mdW5jcyIsImluX3RfZGlzdF9mdW5jcyIsIm91dHB1dF9mdW5jcyIsImFyciIsInNsaWNlIiwic2V0IiwiTWVtYmVyc2hpcEZ1bmMiLCJ0YXJnZXRfZGlzdCIsInNwZWVkIiwidHVybiIsIm1lcmdlX3BhcmFtcyIsInBhcmFtcyIsInBvaW50cyIsImxlbmd0aCIsInBhcmFtIiwiZnVuYyIsInB1c2giLCJsYXN0X3BvaW50IiwiZXZhbF9mdXp6eV9zZW5zb3IiLCJmdW5jX2NvbCIsInJlc3VsdCIsInZhbHVlcyIsInRlbXAiLCJldmFsX3BhcmFtcyIsInN1bTEiLCJzdW0yIiwiaW5mb19kaXNwbGF5IiwiaHRtbF9ieV9wYXJhbSIsImh0bWxfcmF3X2Rpc3RhbmNlIiwiQXJyYXkiLCJodG1sX2J5X2Rpc3RhbmNlIiwiZmlsbCIsImh0bWxfYnlfdGFyZ2V0IiwiZGl2X3NlbnNvcnNfZnV6enkiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGl2X3NlbnNvcnNfdGFyZ2V0IiwibmFtZXNPZkZ1enp5VmFycyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJpbm5lckhUTUwiLCJzZW5zb3JfaHRtbCIsImNsYXNzTGlzdCIsImRpc3QiLCJOdW1iZXIiLCJpc05hTiIsInBhcnNlSW50IiwiZGF0YSIsImVsZW0iLCJoZWFkZXIiLCJpbm5lclRleHQiLCJkaXZfZnV6enlfc3BlZWQiLCJkaXZfZnV6enlfdHVybiIsInByaW50X3NlbnNvcnNfZGlzdGFuY2UiLCJzZW5zb3JzX2Rpc3RhbmNlIiwiaXNGaW5pdGUiLCJ0b1N0cmluZyIsInByaW50X3NlbnNvcnNfZnV6enkiLCJzZW5zb3JzX2Z1enp5IiwiaHRtbE1hcCIsImVsZW1lbnQiLCJ0b0ZpeGVkIiwicHJpbnRfZnV6enlfc3BlZWQiLCJmdXp6eV9zcGVlZHMiLCJwcmludF9mdXp6eV9vdXRfcGFyYW1zIiwicHJpbnRfZnV6enlfdHVybiIsImZ1enp5X3R1cm5zIiwiZmlsdGVyIiwiYW50ZWNlZGVudCIsImNvbnNlcXVlbnQiLCJhcHBseSIsImlucHV0cyIsIm1hc2siLCJtYXgiLCJMT0dJQ19SVUxFUyIsIkxvZ2ljUnVsZSIsIkZhciIsIlRGYXIiLCJNZWRpdW0iLCJDbG9zZSIsIlNsb3ciLCJWZXJ5Q2xvc2UiLCJWZXJ5U2xvdyIsIlRDbG9zZSIsIlJpZ2h0IiwibGUiLCJnZSIsIlN0cm9uZ1JpZ2h0IiwiTGVmdCIsIlRMZWZ0IiwiVFN0cm9uZ1JpZ2h0IiwiVFJpZ2h0IiwiZnV6enlfaW5wdXRzIiwiZnV6enlfc3BlZWQiLCJmdXp6eV90dXJuIiwib3V0cHV0X3NwZWVkIiwib3V0cHV0X3R1cm4iLCJsb2dpY19tZXRob2RzIiwiTG9naWNNZXRob2RzIiwidXBkYXRlIiwic2Vuc29yX3ZhbHVlcyIsInRhcmdldF9hbmdsZSIsInRhcmdldF9kaXN0YW5jZSIsImZ1enp5X2FuZ2xlIiwiZnV6enlfZGlzdCIsImV2YWxfZnV6enlfb3V0X3BhcmFtcyIsInByaW50X2luZm8iLCJyZXNldF9vdXRwdXRzIiwiYWRkX291dF9wYXJhbSIsImNvbGxlY3Rpb24iLCJzcGxpY2UiLCJwaSIsIlBJIiwidHVybl9yYW5nZSIsIm1heF9zcGVlZCIsImsiLCJJbmZpbml0eSIsInZhbGlkYXRlX2lucHV0X3ZhbHVlcyIsInNlbnNvcnNfZHN0IiwiRnVuY3Rpb25JbnRlcnZhbHMiLCJjcyIsIm5lY2Vzc2FyeV9zcGVlZCIsIndoZWVsX2FuZ2xlIiwidHVybl9yYWRpdXMiLCJhY2NlbGVyYXRpb24iLCJCbGFua1NlbnNvciIsInNlbnNvcl9sZW4iLCJUYXJnZXRTZW5zb3IiLCJzdGF0dXMiLCJjYXIiLCJ0bXBDYW52YXMiLCJjdHgiLCJnZXRJbWFnZURhdGEiLCJleHRyYWN0SW1hZ2VEYXRhIiwiVWludDhBcnJheSIsImoiLCJyZWR1Y2UiLCJtaW4iLCJpc19iYXJyaWVyIiwiX21hcCIsImxpbmVfeCIsInAwIiwicDEiLCJteV9tYXgiLCJteV9taW4iLCJ1cGRhdGVfc2Vuc29yIiwic3RhcnQiLCJhZGRfYW5nbGUiLCJzaW5fYSIsInNpbiIsImNvc19hIiwiY29zIiwicmVjb3JyZWN0X2FuZ2xlIiwidGljayIsImR0IiwibGFzdF9hbmdsZSIsImFicyIsInNpZ24iLCJ0ZXJuX3JhZGl1cyIsInNxcnQiLCJwb3ciLCJBMSIsIkEyIiwiQjEiLCJCMiIsIm51bSIsInBfdXAiLCJwX3JpZ2h0IiwicF9kb3duIiwicF9sZWZ0IiwiaXNfY29sbGlzaW9uIiwiZmluaXNoIiwiZGVsdGEiLCJhY29zIiwiREVGQVVMVF9DQVIiLCJERUZBVUxUX1RBUkdFVCIsImRyYXdlciIsInBhdXNlIiwibGFzdFRpbWVyIiwic2V0VGFyZ2V0Iiwic3RhcnRTaW11bGF0aW9uIiwic2V0dGluZ3MiLCJjYXJfc2V0dGluZ3MiLCJwaCIsImxvZ2ljIiwidGltZXJDYWxsYmFjayIsInJlc3RhcnRUaW1lciIsInRpbWUiLCJ0aW1lTXVsdGlwbHkiLCJ3aW5kb3ciLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzaW11bGF0b3IiLCJwYXVzZV9idXR0b24iLCJ0ZXh0Q29udGVudCIsInVucGF1c2UiLCJhZGRFdmVudExpc3RlbmVyIiwiZXYiLCJhbGwiLCJ0aGVuIiwiZmlsZSIsImZpbGVJbnB1dCIsInF1ZXJ5U2VsZWN0b3IiLCJtYXliZUltZyIsImZpbGVzIiwiaXRlbSIsImZpbGVSZWFkZXIiLCJGaWxlUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsInByZXZlbnREZWZhdWx0IiwiYWxlcnQiLCJ0YXJkaXMiLCJ2YWx1ZUFzTnVtYmVyIiwicGFnZVgiLCJvZmZzZXRMZWZ0IiwicGFnZVkiLCJvZmZzZXRUb3AiLCJkZWx0YVkiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFF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LElBQUlyQyxFQUFNSixFQUFHQyxJQUM1QzJRLEVBQVViLFVBQVVFLEVBQVN6TixXQUVqQzlCLEVBQU9zUSxpQkFBaUIsWUFBWSxTQUFBQyxHQUNoQ0EsRUFBR1ksaUJBRUgsSUFBSTdSLEVBQUlpUixFQUFHZ0IsTUFBUXZSLEVBQU93UixXQUN0QmpTLEVBQUlnUixFQUFHa0IsTUFBUXpSLEVBQU8wUixVQUMxQm5DLEVBQVNDLGFBQWF2TyxZQUFjLEVBQU9jLE1BQU0sSUFBSXJDLEVBQU1KLEVBQUdDLElBRTlENFAsSUFDQWUsRUFBVVosZ0JBQWdCQyxNQUU5QnZQLEVBQU9zUSxpQkFBaUIsU0FBUyxTQUFBQyxHQUM3QkEsRUFBR1ksaUJBQ0NqQixFQUFVZixRQUNlLE1BQXJCZSxFQUFVNU8sVUFDVmlPLEVBQVNDLGFBQWF2TyxZQUFjaVAsRUFBVTVPLFFBQVE2SyxJQUFJbEwsYUFDOURzTyxFQUFTQyxhQUFhdE8sT0FBcUIsS0FBWnFQLEVBQUdvQixPQUNsQ3pCLEVBQVVaLGdCQUFnQkMiLCJmaWxlIjoibWFpbi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJpbXBvcnQge0Z1bmN0aW9uSW50ZXJ2YWxzfSBmcm9tIFwiLi9mdW5jdGlvbl9pbnRlcnZhbHNcIjtcblxuZXhwb3J0IGVudW0gSW5QYXJhbSB7XG4gICAgVmVyeUNsb3NlID0gMSxcbiAgICBDbG9zZSA9IDIsXG4gICAgTWVkaXVtID0gNCxcbiAgICBGYXIgPSA4LFxuXG4gICAgVFN0cm9uZ0xlZnQgPSAxNixcbiAgICBUTGVmdCA9IDMyLFxuICAgIFRSaWdodCA9IDY0LFxuICAgIFRTdHJvbmdSaWdodCA9IDEyOCxcblxuICAgIFRDbG9zZSA9IDI1NixcbiAgICBURmFyID0gNTEyXG59XG5cbmV4cG9ydCBlbnVtIE91dFBhcmFtIHtcbiAgICBWZXJ5U2xvdyxcbiAgICBTbG93LFxuICAgIE1lZGl1bSxcbiAgICBGYXN0LFxuXG4gICAgU3Ryb25nTGVmdCxcbiAgICBMZWZ0LFxuICAgIFJpZ2h0LFxuICAgIFN0cm9uZ1JpZ2h0XG59XG5cbi8vINCe0L/RgNC10LTQtdC70LXQvdC40LUg0L7RgtC90L7RiNC10L3QuNGPINC/0LDRgNCw0LzRgtGA0LAg0Log0L/QsNGA0LDQvNC10YLRgNGDINGB0LrQvtGA0L7RgdGC0Lgg0LjQu9C4INC/0L7QstC+0YDQvtGC0LBcbmV4cG9ydCBmdW5jdGlvbiBpc19zcGVlZCh2YWw6IE91dFBhcmFtKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZhbCA8IE91dFBhcmFtLlN0cm9uZ0xlZnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc190YXJnZXQodmFsOiBJblBhcmFtKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHZhbCA+PSBJblBhcmFtLlRTdHJvbmdMZWZ0O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1enp5SW5QYXJhbSB7XG4gICAgZGlzdGFuY2U6IEluUGFyYW0sXG4gICAgdmFsdWU6IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZ1enp5U2Vuc29yIHtcbiAgICB2YWx1ZXM6IEZ1enp5SW5QYXJhbVtdXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRnV6enlPdXRQYXJhbSB7XG4gICAgcGFyYW06IE91dFBhcmFtLFxuICAgIHZhbHVlOiBudW1iZXJcbn1cblxuLy8g0JrQu9Cw0YHRgSDRhNGD0L3QutGG0LjQuCwg0LLRi9GH0LjRgdC70Y/RjtGJ0LXQuSDQv9GA0LjQvdCw0LTQu9C10LbQvdC+0YHRgtGMINC60LvQsNGB0YHRg1xuY2xhc3MgTWVtYmVyc2hpcEZ1bmMge1xuICAgIHByaXZhdGUgaW50ZXJ2YWxzOiBudW1iZXJbXTtcblxuICAgIGNvbnN0cnVjdG9yKGludGVydmFsczogbnVtYmVyW10pIHtcbiAgICAgICAgdGhpcy5pbnRlcnZhbHMgPSBpbnRlcnZhbHM7XG4gICAgfVxuXG4gICAgZXZhbCh2YWw6IG51bWJlcik6IG51bWJlciB7XG4gICAgICAgIGxldCBpbnRzID0gdGhpcy5pbnRlcnZhbHM7XG4gICAgICAgIGlmICh2YWwgPCBpbnRzWzBdIHx8IHZhbCA+IGludHNbM10pXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgaWYgKHZhbCA8IGludHNbMV0pXG4gICAgICAgICAgICByZXR1cm4gKHZhbCAtIGludHNbMF0pIC8gKGludHNbMV0gLSBpbnRzWzBdKTtcbiAgICAgICAgaWYgKHZhbCA+IGludHNbMl0pXG4gICAgICAgICAgICByZXR1cm4gKHZhbCAtIGludHNbM10pIC8gKGludHNbMl0gLSBpbnRzWzNdKTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgaW50ZXJ2YWxzX3NsaWNlZCh0b3BfdmFsOiBudW1iZXIpOiBudW1iZXJbXSB7XG4gICAgICAgIGxldCBpbnRzID0gdGhpcy5pbnRlcnZhbHM7XG4gICAgICAgIGxldCBhID0gdGhpcy5kZXZhbF9sKHRvcF92YWwpO1xuICAgICAgICBsZXQgYiA9IHRoaXMuZGV2YWxfcih0b3BfdmFsKTtcbiAgICAgICAgcmV0dXJuIFtpbnRzWzBdLCBhLCBiLCBpbnRzWzNdXTtcbiAgICB9XG5cbiAgICBkZXZhbF9sKHZhbDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIHZhbCAqICh0aGlzLmludGVydmFsc1sxXSAtIHRoaXMuaW50ZXJ2YWxzWzBdKSArIHRoaXMuaW50ZXJ2YWxzWzBdO1xuICAgIH1cblxuICAgIGRldmFsX3IodmFsOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdmFsICogKHRoaXMuaW50ZXJ2YWxzWzJdIC0gdGhpcy5pbnRlcnZhbHNbM10pICsgdGhpcy5pbnRlcnZhbHNbM107XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTG9naWNNZXRob2RzIHtcbiAgICBpbl9kaXN0X2Z1bmNzID0gbmV3IE1hcDxJblBhcmFtLCBNZW1iZXJzaGlwRnVuYz4oKTtcbiAgICBpbl9hbmdsX2Z1bmNzID0gbmV3IE1hcDxJblBhcmFtLCBNZW1iZXJzaGlwRnVuYz4oKTtcbiAgICBpbl90X2Rpc3RfZnVuY3MgPSBuZXcgTWFwPEluUGFyYW0sIE1lbWJlcnNoaXBGdW5jPigpO1xuICAgIG91dHB1dF9mdW5jcyA9IG5ldyBNYXA8T3V0UGFyYW0sIE1lbWJlcnNoaXBGdW5jPigpO1xuXG4gICAgY29uc3RydWN0b3IoaW50ZXJ2YWxzOiBGdW5jdGlvbkludGVydmFscykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyciA9IGludGVydmFscy5kaXN0YW5jZS5zbGljZSgyKmksIDIqaSArIDQpO1xuICAgICAgICAgICAgdGhpcy5pbl9kaXN0X2Z1bmNzLnNldCgyKippLCBuZXcgTWVtYmVyc2hpcEZ1bmMoYXJyKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyciA9IGludGVydmFscy5hbmdsZS5zbGljZSgyKmksIDIqaSArIDQpO1xuICAgICAgICAgICAgdGhpcy5pbl9hbmdsX2Z1bmNzLnNldCgyKiooaSArIDQpLCBuZXcgTWVtYmVyc2hpcEZ1bmMoYXJyKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyciA9IGludGVydmFscy50YXJnZXRfZGlzdC5zbGljZSgyKmksIDIqaSArIDQpO1xuICAgICAgICAgICAgdGhpcy5pbl90X2Rpc3RfZnVuY3Muc2V0KDIqKihpICsgOCksIG5ldyBNZW1iZXJzaGlwRnVuYyhhcnIpKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGFyciA9IGludGVydmFscy5zcGVlZC5zbGljZSgyKmksIDIqaSArIDQpO1xuICAgICAgICAgICAgdGhpcy5vdXRwdXRfZnVuY3Muc2V0KGksIG5ldyBNZW1iZXJzaGlwRnVuYyhhcnIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgYXJyID0gaW50ZXJ2YWxzLnR1cm4uc2xpY2UoMippLCAyKmkgKyA0KTtcbiAgICAgICAgICAgIHRoaXMub3V0cHV0X2Z1bmNzLnNldChpICsgNCwgbmV3IE1lbWJlcnNoaXBGdW5jKGFycikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbWVyZ2VfcGFyYW1zKHBhcmFtczogRnV6enlPdXRQYXJhbVtdKTogUG9pbnRbXSB7XG4gICAgICAgIGxldCBwb2ludHM6IFBvaW50W10gPSBbXTtcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPT0gMClcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgbGV0IHBhcmFtID0gcGFyYW1zWzBdO1xuICAgICAgICBsZXQgZnVuYyA9IHRoaXMub3V0cHV0X2Z1bmNzLmdldChwYXJhbS5wYXJhbSkhO1xuICAgICAgICBsZXQgaW50cyA9IGZ1bmMuaW50ZXJ2YWxzX3NsaWNlZChwYXJhbS52YWx1ZSk7XG4gICAgICAgIHBvaW50cy5wdXNoKHt4OiBpbnRzWzBdLCB5OiAwfSk7XG4gICAgICAgIHBvaW50cy5wdXNoKHt4OiBpbnRzWzFdLCB5OiBwYXJhbS52YWx1ZX0pO1xuICAgICAgICBsZXQgbGFzdF9wb2ludDogUG9pbnQgPSB7eDogaW50c1syXSwgeTogcGFyYW0udmFsdWV9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTtcbiAgICAgICAgICAgIGZ1bmMgPSB0aGlzLm91dHB1dF9mdW5jcy5nZXQocGFyYW0ucGFyYW0pITtcbiAgICAgICAgICAgIGludHMgPSBmdW5jLmludGVydmFsc19zbGljZWQocGFyYW0udmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAocGFyYW0udmFsdWUgPiAwLjUgJiYgbGFzdF9wb2ludC55ID4gMC41KSB7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2gobGFzdF9wb2ludCk7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB4OiBmdW5jLmRldmFsX2woMC41KSxcbiAgICAgICAgICAgICAgICAgICAgeTogMC41XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICB4OiBpbnRzWzFdLFxuICAgICAgICAgICAgICAgICAgICB5OiBwYXJhbS52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGFyYW0udmFsdWUgPiBsYXN0X3BvaW50LnkpIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHg6IGZ1bmMuZGV2YWxfbChsYXN0X3BvaW50LnkpLFxuICAgICAgICAgICAgICAgICAgICB5OiBsYXN0X3BvaW50LnlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHg6IGludHNbMV0sXG4gICAgICAgICAgICAgICAgICAgIHk6IHBhcmFtLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChsYXN0X3BvaW50KTtcbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHg6IGZ1bmMuZGV2YWxfbCgxIC0gcGFyYW0udmFsdWUpLFxuICAgICAgICAgICAgICAgICAgICB5OiBwYXJhbS52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdF9wb2ludCA9IHt4OiBpbnRzWzJdLCB5OiBwYXJhbS52YWx1ZX07XG4gICAgICAgIH1cbiAgICAgICAgcG9pbnRzLnB1c2gobGFzdF9wb2ludCk7XG4gICAgICAgIHBvaW50cy5wdXNoKHt4OiBpbnRzWzNdLCB5OiAwfSk7XG4gICAgICAgIHJldHVybiBwb2ludHM7XG4gICAgfVxufVxuXG5cbi8vINCf0LXRgNC10LLQvtC0INGA0LDRgdGB0YLQvtGP0L3QuNGPINCyINC90LXRh9C10YLQutGD0Y4g0L/QtdGA0LXQvNC10L3QvdGD0Y5cbmV4cG9ydCBmdW5jdGlvbiBldmFsX2Z1enp5X3NlbnNvcihkaXN0YW5jZTogbnVtYmVyLCBmdW5jX2NvbDogTWFwPEluUGFyYW0sIE1lbWJlcnNoaXBGdW5jPikgOiBGdXp6eVNlbnNvciB7XG4gICAgbGV0IHJlc3VsdCA9IHsgdmFsdWVzOiBbXSB9IGFzIEZ1enp5U2Vuc29yO1xuICAgIGZ1bmNfY29sLmZvckVhY2goKGZ1bmM6IE1lbWJlcnNoaXBGdW5jLCBwYXJhbTogSW5QYXJhbSkgPT4ge1xuICAgICAgICBsZXQgdGVtcCA9IGZ1bmMuZXZhbChkaXN0YW5jZSlcbiAgICAgICAgaWYgKHRlbXAgIT0gMClcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZGlzdGFuY2U6IHBhcmFtLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0ZW1wXG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5pbnRlcmZhY2UgUG9pbnQge1xuICAgIHg6IG51bWJlcixcbiAgICB5OiBudW1iZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV2YWxfcGFyYW1zKHBvaW50czogUG9pbnRbXSkge1xuICAgIGlmIChwb2ludHMubGVuZ3RoID09IDApXG4gICAgICAgIHJldHVybiAwO1xuICAgIGxldCBzdW0xID0gMDtcbiAgICBsZXQgc3VtMiA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2ludHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIGxldCBhID0gcG9pbnRzW2ldO1xuICAgICAgICBsZXQgYiA9IHBvaW50c1tpICsgMV07XG4gICAgICAgIHN1bTEgKz0gYi54ICogYS55IC0gYS54ICogYi55O1xuICAgICAgICBzdW0yICs9IChhLnggKyBiLngpICogKGIueCAqIGEueSAtIGEueCAqIGIueSk7XG4gICAgfVxuICAgIHJldHVybiAoc3VtMiAvIHN1bTEpIC8gMztcbn0iLCJcbmV4cG9ydCBjbGFzcyBQb2ludCB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcblxuICAgIHB1YmxpYyBhZGQocDogUG9pbnQpe1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KHAueCArIHRoaXMueCwgcC55ICsgdGhpcy55KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3ViKHA6IFBvaW50KXtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggLSBwLngsIHRoaXMueSAtIHAueSk7XG4gICAgfVxuXG4gICAgcHVibGljIG11bHQoYnk6IG51bWJlcik6IFBvaW50IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb2ludCh0aGlzLnggKiBieSwgdGhpcy55ICogYnkpO1xuICAgIH1cblxuICAgIHB1YmxpYyByb3VuZCgpe1xuICAgICAgICByZXR1cm4gbmV3IFBvaW50KE1hdGgucm91bmQodGhpcy54KSwgTWF0aC5yb3VuZCh0aGlzLnkpKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvciAoeDogbnVtYmVyLCB5Om51bWJlcil7XG4gICAgICAgIHRoaXMueCA9IHg7XG4gICAgICAgIHRoaXMueSA9IHk7XG4gICAgfVxufVxuIiwiaW1wb3J0IFwiLi9kcmF3ZXIuY3NzXCJcbmltcG9ydCB7IElnbm9yZVBsdWdpbiB9IGZyb20gXCJ3ZWJwYWNrXCI7XG5pbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuLi9iYXNlL2dlb21ldHJ5XCI7XG5cbmNvbnN0IE1BUF9XSURUSCA9IDEwMDA7XG5cbi8vINCS0L7QvtCx0YnQtSDQs9C+0LLQvtGA0Y8sINC70Y7QsdC+0Lkg0L3QtdGE0L7QvdC+0LLRi9C5INC/0LXRgNGB0L7QvdCw0LYsINCyINC90LDRiNC10Lwg0YfQsNGB0YLQvdC+0Lwg0YHQu9GD0YfQsNC1IC0tINC80LDRiNC40L3QutCwXG5leHBvcnQgaW50ZXJmYWNlIERyYXdhYmxlQWN0b3Ige1xuICAgIC8vINCa0L7QvtGA0LTQuNC90LDRgtGLINGG0LXQvdGC0YDQsFxuICAgIHJlYWRvbmx5IGNvb3JkaW5hdGVzOiBQb2ludCxcblxuICAgIC8vINCj0LPQvtC7INC/0L7QstC+0YDQvtGC0LAg0YEu0LwuIHBpdm90INCyINGA0LjRgdC+0LLQsNC90LjQuCDQvdCwINC60LDQvdCy0LDRgdC1XG4gICAgcmVhZG9ubHkgYW5nbGU6IG51bWJlcixcblxuICAgIC8vINCa0LDQuiDQstGL0LPQu9GP0LTQuNGCINCw0LrRgtC+0YBcbiAgICByZWFkb25seSB2aWV3OiBJbWFnZUJpdG1hcFxuXG4gICAgLy8g0JrQsNC6INCw0LrRgtC+0YAg0LLQuNC00LjRgiDQvNC40YBcbiAgICByZWFkb25seSBzZW5zb3JzOiBBcnJheTxEcmF3YWJsZVNlbnNvcj5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcmF3YWJsZVNlbnNvciB7XG4gICAgLy8gINCU0LDQu9GM0L3QvtGB0YLRjCDQuNC30LzQtdGA0LXQvdC40Y8g0LTQsNGC0YfQuNC60LBcbiAgICByZWFkb25seSBkaXN0YW5jZTogbnVtYmVyO1xuXG4gICAgLy8gINCj0LPQvtC7INC/0L7QstC+0YDQvtGC0LAg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+INC80LDRiNC40L3QutC4XG4gICAgcmVhZG9ubHkgYW5nbGU6IG51bWJlcjtcblxuICAgIC8vICDQl9C90LDRh9C10L3QuNC1INGB0LXQvdGB0L7RgNCwIC0g0YDQsNGB0YHRgtC+0Y/QvdC40LUg0LTQviDQv9GA0LXQv9GP0YLRgdGC0LLQuNGPXG4gICAgcmVhZG9ubHkgdmFsdWU6IG51bWJlcjtcbn1cblxuXG4vLyDQktGB0ZEsINGH0YLQviDQtNC+0LvQttC90L4g0YDQuNGB0L7QstCw0YLRjFxuZXhwb3J0IGludGVyZmFjZSBEcmF3YWJsZU1hcCB7XG4gICAgLy8g0KTQvtC90L7QstC+0LUg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQutCw0YDRgtGLXG4gICAgcmVhZG9ubHkgc3RhZ2U6IEltYWdlQml0bWFwLFxuXG4gICAgLy8g0JLRgdC1INCw0LrRgtC+0YDRiywg0LIg0YfQsNGB0YLQvdC+0Lwg0YHQu9GD0YfQsNC1IC0tINC+0LTQvdCwINC80LDRiNC40L3QutCwXG4gICAgYWN0b3JzOiAoKSA9PiBBcnJheTxEcmF3YWJsZUFjdG9yPlxuXG4gICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC70LhcbiAgICByZWFkb25seSB0YXJnZXQ6IFBvaW50O1xufVxuXG4vL9Ce0YLRgNC40YHQvtCy0YnQuNC6LCDRg9C80LXQtdGCINGA0LjRgdC+0LLQsNGC0YwgRHJhd2FibGVNYXAg0L3QsCDQstCw0YjQuNGFINC60LDQvdCy0LDRgdCw0YVcbmV4cG9ydCBjbGFzcyBEcmF3ZXIge1xuICAgIHByaXZhdGUgX2NhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XG4gICAgcHJpdmF0ZSBfY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xuXG4gICAgcHJpdmF0ZSBfc2NhbGU6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5fY2FudmFzID0gY2FudmFzO1xuICAgICAgICBsZXQgdGVtcF9jb250ZXh0ID0gdGhpcy5fY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICh0ZW1wX2NvbnRleHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fY29udGV4dCA9IHRlbXBfY29udGV4dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IFwiQ291bGRuJ3QgZXh0cmFjdCBjb250ZXh0IGZyb20gY2FudmFzXCI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc2NhbGUgPSB0aGlzLl9jYW52YXMud2lkdGggLyBNQVBfV0lEVEg7XG4gICAgfVxuXG4gICAgcHVibGljIGRyYXcobWFwOiBEcmF3YWJsZU1hcCkge1xuICAgICAgICB0aGlzLl9jb250ZXh0LmRyYXdJbWFnZShtYXAuc3RhZ2UsIDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgICAgIG1hcC5hY3RvcnMoKS5mb3JFYWNoKGFjdG9yID0+IHtcbiAgICAgICAgICAgIHRoaXMuZHJhd190cmFuc2Zvcm0oYWN0b3IudmlldywgYWN0b3IuY29vcmRpbmF0ZXMsIGFjdG9yLmFuZ2xlKTtcbiAgICAgICAgICAgIGFjdG9yLnNlbnNvcnMuZm9yRWFjaChzZW5zb3IgPT5cbiAgICAgICAgICAgICAgICB0aGlzLmluX3RyYW5zZm9ybShhY3Rvci5jb29yZGluYXRlcywgYWN0b3IuYW5nbGUgKyBzZW5zb3IuYW5nbGUsIChjb250ZXh0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbygwLCBzZW5zb3IuZGlzdGFuY2UpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoLTUsIHNlbnNvci52YWx1ZSAtIDUsIDEwLCAxMCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5fdHJhbnNmb3JtKG5ldyBQb2ludCgwLCAwKSwgMCwgY29udGV4dCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubW92ZVRvKGFjdG9yLmNvb3JkaW5hdGVzLngsIGFjdG9yLmNvb3JkaW5hdGVzLnkpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmVUbyhtYXAudGFyZ2V0LngsIG1hcC50YXJnZXQueSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyBzY2FsZShwb2ludDogUG9pbnQpOiBQb2ludCB7XG4gICAgICAgIHJldHVybiBwb2ludC5tdWx0KDEgLyB0aGlzLl9zY2FsZSk7ICAgIFxuICAgIH1cblxuICAgIHByaXZhdGUgZHJhd190cmFuc2Zvcm0oaW1nOiBJbWFnZUJpdG1hcCwgY29vcmRzOiBQb2ludCwgYW5nbGU6IG51bWJlcikge1xuICAgICAgICB0aGlzLmluX3RyYW5zZm9ybShjb29yZHMsIGFuZ2xlLCAoY29udGV4dCkgPT4gY29udGV4dC5kcmF3SW1hZ2UoaW1nLCAtaW1nLndpZHRoIC8gMiwgLWltZy5oZWlnaHQgLyAyKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbl90cmFuc2Zvcm0oY29vcmRzOiBQb2ludCwgYW5nbGU6IG51bWJlciwgYWN0aW9uOiAoY29udGV4dDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuX2NvbnRleHQuc2F2ZSgpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnNjYWxlKHRoaXMuX3NjYWxlLCB0aGlzLl9zY2FsZSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQudHJhbnNsYXRlKGNvb3Jkcy54LCBjb29yZHMueSk7XG4gICAgICAgIHRoaXMuX2NvbnRleHQucm90YXRlKGFuZ2xlKTtcbiAgICAgICAgYWN0aW9uKHRoaXMuX2NvbnRleHQpO1xuICAgICAgICB0aGlzLl9jb250ZXh0LnJlc3RvcmUoKTtcbiAgICB9XG59XG5cbiIsImV4cG9ydCBmdW5jdGlvbiBleHRyYWN0SW1hZ2VEYXRhKGltZzogSW1hZ2VCaXRtYXApOiBJbWFnZURhdGEge1xuICAgIGNvbnN0IHRtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgdG1wQ2FudmFzLmhlaWdodCA9IGltZy5oZWlnaHQ7XG4gICAgdG1wQ2FudmFzLndpZHRoID0gaW1nLndpZHRoO1xuICAgIGNvbnN0IGN0eCA9IHRtcENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgaWYgKCFjdHgpIHtcbiAgICAgICAgdGhyb3cgXCLQndC1INC/0L7Qu9GD0YfQuNC70L7RgdGMINC/0L7Qu9GD0YfQuNGC0Ywg0L3QtdCy0LjQtNC40LzRi9C5INC60L7QvdGC0LXQutGB0YIg0L3QtdCy0LjQtNCw0L3QvdC+0LPQviDQutCw0L3QstCw0YHQsFwiXG4gICAgfVxuICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwKTtcbiAgICByZXR1cm4gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBpbWcud2lkdGgsIGltZy5oZWlnaHQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkb3dubG9hZEJpdG1hcChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPEltYWdlQml0bWFwPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPEltYWdlQml0bWFwPigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGxldCBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlSW1hZ2VCaXRtYXAoaW1nKSlcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSByZWplY3Q7XG4gICAgICAgIGltZy5zcmMgPSBwYXRoO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZUFzVVJMKGZpbGU6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZTxzdHJpbmc+KGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgY29uc3QgZmlsZVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgKGV2KSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKGZpbGVSZWFkZXIucmVzdWx0IGFzIHN0cmluZylcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbGVSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHJlamVjdCk7XG4gICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTtcbiAgICB9KVxufSIsImltcG9ydCB7RnV6enlPdXRQYXJhbSwgRnV6enlTZW5zb3IsIEluUGFyYW0sIGlzX3NwZWVkLCBpc190YXJnZXQsIE91dFBhcmFtfSBmcm9tIFwiLi4vbG9naWMvbG9naWNfbWV0aG9kc1wiO1xuaW1wb3J0IFwiLi9pbmZvX2Rpc3BhbHkuY3NzXCJcblxuZnVuY3Rpb24gdG9TdHJpbmcobjogbnVtYmVyKSB7XG4gICAgaWYgKE51bWJlci5pc0Zpbml0ZShuKSkge1xuICAgICAgICByZXR1cm4gbi50b0ZpeGVkKDIpLnRvU3RyaW5nKClcbiAgICB9XG4gICAgcmV0dXJuIGAmIzg3MzRgIC8vINCX0L3QsNC6INCx0LXRgdC60L7QvdC10YfQvdC+0YHRgtC4INCyIGh0bWxcbn1cblxuZXhwb3J0IGNsYXNzIEluZm9EaXNwbGF5IHtcbiAgICBwcml2YXRlIGh0bWxfYnlfcGFyYW0gPSBuZXcgTWFwPE91dFBhcmFtLCBIVE1MRWxlbWVudD4oKTtcbiAgICBwcml2YXRlIGh0bWxfYnlfZGlzdGFuY2U6IE1hcDxJblBhcmFtLCBIVE1MRWxlbWVudD5bXTtcbiAgICBwcml2YXRlIGh0bWxfYnlfdGFyZ2V0OiBNYXA8SW5QYXJhbSwgSFRNTEVsZW1lbnQ+O1xuICAgIHByaXZhdGUgaHRtbF9yYXdfZGlzdGFuY2U6IEFycmF5PEhUTUxFbGVtZW50PjtcblxuICAgIC8vINCa0YPRh9CwINC60L7Qv9C40L/QsNGB0YLRiywg0LrQvtGI0LzQsNGALCDQvdC+INC00LbQtdC90LXRgNC40Log0L7RgiBlbnVtINCx0YvRgdGC0YDQviDRgdC00LXQu9Cw0YLRjCDQvdC1INGB0LzQvtCzXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIGNvbnN0IGNvdW50T2ZEaXN0YW5jZVNlbnNvciA9IDU7XG4gICAgICAgIHRoaXMuaHRtbF9yYXdfZGlzdGFuY2UgPSBuZXcgQXJyYXk8SFRNTEVsZW1lbnQ+KGNvdW50T2ZEaXN0YW5jZVNlbnNvcik7XG4gICAgICAgIHRoaXMuaHRtbF9ieV9kaXN0YW5jZSA9IG5ldyBBcnJheShjb3VudE9mRGlzdGFuY2VTZW5zb3IpLmZpbGwoMSkubWFwKCgpID0+IG5ldyBNYXA8SW5QYXJhbSwgSFRNTEVsZW1lbnQ+KCkpO1xuICAgICAgICB0aGlzLmh0bWxfYnlfdGFyZ2V0ID0gbmV3IE1hcDxJblBhcmFtLCBIVE1MRWxlbWVudD4oKTtcbiAgICAgICAgY29uc3QgZGl2X3NlbnNvcnNfZnV6enkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnNvcnMtZnV6enlcIikhO1xuICAgICAgICBjb25zdCBkaXZfc2Vuc29yc190YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnNvci1mdXp6eS10YXJnZXRcIikhO1xuICAgICAgICBjb25zdCBuYW1lc09mRnV6enlWYXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgICAgICBkaXZfc2Vuc29yc19mdXp6eS5hcHBlbmQobmFtZXNPZkZ1enp5VmFycyk7XG4gICAgICAgIG5hbWVzT2ZGdXp6eVZhcnMuaW5uZXJIVE1MID0gXCI8aGVhZGVyPtCf0LjQutGB0LXQu9C4PC9oZWFkZXI+XCI7XG4gICAgICAgIGZvciAobGV0IHNlbnNvciA9IDA7IHNlbnNvciA8IGNvdW50T2ZEaXN0YW5jZVNlbnNvcjsgc2Vuc29yKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbnNvcl9odG1sID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgICAgICAgICAgc2Vuc29yX2h0bWwuY2xhc3NMaXN0LmFkZCgnb3V0cGFyYW1zJyk7XG4gICAgICAgICAgICBjb25zdCBkaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgICAgICAgICAgdGhpcy5odG1sX3Jhd19kaXN0YW5jZVtzZW5zb3JdID0gZGlzdDtcbiAgICAgICAgICAgIHNlbnNvcl9odG1sLmFwcGVuZChkaXN0KTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gSW5QYXJhbSkge1xuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KGkpKSkgeyAvLyBza2lwIG51bWJlcnNcbiAgICAgICAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBJblBhcmFtW2ldIGFzIHVua25vd24gYXMgSW5QYXJhbTtcbiAgICAgICAgICAgICAgICBpZiAoaXNfdGFyZ2V0KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2VjdGlvbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuaHRtbF9ieV9kaXN0YW5jZVtzZW5zb3JdLnNldChwYXJhbSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgc2Vuc29yX2h0bWwuYXBwZW5kKGRhdGEpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXZfc2Vuc29yc19mdXp6eS5hcHBlbmQoc2Vuc29yX2h0bWwpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgaW4gSW5QYXJhbSkge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4ocGFyc2VJbnQoaSkpKSB7IC8vIHNraXAgbnVtYmVyc1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJhbSA9IEluUGFyYW1baV0gYXMgdW5rbm93biBhcyBJblBhcmFtO1xuICAgICAgICAgICAgaWYgKCFpc190YXJnZXQocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgICAgICAgICAgICAgaGVhZGVyLmlubmVyVGV4dCA9IGk7XG4gICAgICAgICAgICAgICAgbmFtZXNPZkZ1enp5VmFycy5hcHBlbmQoaGVhZGVyKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgICAgICAgICBoZWFkZXIuaW5uZXJUZXh0ID0gaTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgICAgICAgICBlbGVtLmFwcGVuZChoZWFkZXIsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5odG1sX2J5X3RhcmdldC5zZXQocGFyYW0sIGRhdGEpO1xuICAgICAgICAgICAgZGl2X3NlbnNvcnNfdGFyZ2V0LmFwcGVuZChlbGVtKVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpdl9mdXp6eV9zcGVlZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnV6enktc3BlZWRcIikhO1xuICAgICAgICBjb25zdCBkaXZfZnV6enlfdHVybiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnV6enktdHVyblwiKSE7XG4gICAgICAgIGZvciAobGV0IGkgaW4gT3V0UGFyYW0pIHtcbiAgICAgICAgICAgIGlmICghTnVtYmVyLmlzTmFOKHBhcnNlSW50KGkpKSkgeyAvLyBza2lwIG51bWJlcnNcbiAgICAgICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhcnRpY2xlXCIpO1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XG4gICAgICAgICAgICBoZWFkZXIuaW5uZXJUZXh0ID0gaTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzZWN0aW9uJyk7XG4gICAgICAgICAgICBlbGVtLmFwcGVuZChoZWFkZXIsIGRhdGEpO1xuICAgICAgICAgICAgY29uc3QgcGFyYW0gPSBPdXRQYXJhbVtpXSBhcyB1bmtub3duIGFzIE91dFBhcmFtO1xuICAgICAgICAgICAgdGhpcy5odG1sX2J5X3BhcmFtLnNldChwYXJhbSwgZGF0YSk7XG4gICAgICAgICAgICBpZiAoaXNfc3BlZWQocGFyYW0pKSB7XG4gICAgICAgICAgICAgICAgZGl2X2Z1enp5X3NwZWVkLmFwcGVuZChlbGVtKVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkaXZfZnV6enlfdHVybi5hcHBlbmQoZWxlbSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaW50X3NlbnNvcnNfZGlzdGFuY2Uoc2Vuc29yc19kaXN0YW5jZTogbnVtYmVyW10pIHtcbiAgICAgICAgbGV0IGVsZW1zID0gdGhpcy5odG1sX3Jhd19kaXN0YW5jZS5mb3JFYWNoKChlbGVtLCBpKSA9PlxuICAgICAgICAgICAgZWxlbS5pbm5lckhUTUwgPSBOdW1iZXIuaXNGaW5pdGUoc2Vuc29yc19kaXN0YW5jZVtpXSkgPyBzZW5zb3JzX2Rpc3RhbmNlW2ldLnRvU3RyaW5nKCkgOiBgJiM4NzM0YFxuICAgICAgICApXG4gICAgfVxuXG4gICAgcHJpbnRfc2Vuc29yc19mdXp6eShzZW5zb3JzX2Z1enp5OiBGdXp6eVNlbnNvcltdKSB7XG4gICAgICAgIHRoaXMuaHRtbF9ieV90YXJnZXQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgdmFsdWUuaW5uZXJUZXh0ID0gYDBgO1xuICAgICAgICB9KTtcbiAgICAgICAgc2Vuc29yc19mdXp6eS5mb3JFYWNoKCh2YWx1ZSwgaSkgPT4ge1xuICAgICAgICAgICAgbGV0IGh0bWxNYXA6IE1hcDxJblBhcmFtLCBIVE1MRWxlbWVudD4gfCBudWxsID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpIDwgdGhpcy5odG1sX2J5X2Rpc3RhbmNlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGh0bWxNYXAgPSB0aGlzLmh0bWxfYnlfZGlzdGFuY2VbaV07XG4gICAgICAgICAgICAgICAgaHRtbE1hcC5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLmlubmVyVGV4dCA9IGAwYDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaHRtbE1hcCA9IHRoaXMuaHRtbF9ieV90YXJnZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaHRtbE1hcCkge1xuICAgICAgICAgICAgICAgIHZhbHVlLnZhbHVlcy5mb3JFYWNoKGVsZW1lbnQgPT4gaHRtbE1hcD8uZ2V0KGVsZW1lbnQuZGlzdGFuY2UpIS5pbm5lclRleHQgPSBlbGVtZW50LnZhbHVlLnRvRml4ZWQoMikudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaW50X2Z1enp5X3NwZWVkKGZ1enp5X3NwZWVkczogRnV6enlPdXRQYXJhbVtdKSB7XG4gICAgICAgIHRoaXMucHJpbnRfZnV6enlfb3V0X3BhcmFtcyhmdXp6eV9zcGVlZHMsIGlzX3NwZWVkKTtcbiAgICB9XG5cbiAgICBwcmludF9mdXp6eV90dXJuKGZ1enp5X3R1cm5zOiBGdXp6eU91dFBhcmFtW10pIHtcbiAgICAgICAgdGhpcy5wcmludF9mdXp6eV9vdXRfcGFyYW1zKGZ1enp5X3R1cm5zLCBwID0+ICFpc19zcGVlZChwKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmludF9mdXp6eV9vdXRfcGFyYW1zKHBhcmFtczogRnV6enlPdXRQYXJhbVtdLCBmaWx0ZXI6IChwOiBPdXRQYXJhbSkgPT4gYm9vbGVhbikge1xuICAgICAgICB0aGlzLmh0bWxfYnlfcGFyYW0uZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaWYgKGZpbHRlcihrZXkpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUuaW5uZXJUZXh0ID0gYDBgO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcGFyYW1zLmZvckVhY2goc3BlZWQgPT4gdGhpcy5odG1sX2J5X3BhcmFtLmdldChzcGVlZC5wYXJhbSkhLmlubmVyVGV4dCA9IHRvU3RyaW5nKHNwZWVkLnZhbHVlKSlcbiAgICB9XG59XG5cbmV4cG9ydCB2YXIgaW5mb19kaXNwbGF5ID0gbmV3IEluZm9EaXNwbGF5KCk7XG4iLCJpbXBvcnQge0Z1enp5T3V0UGFyYW0sIEZ1enp5U2Vuc29yLCBJblBhcmFtIGFzIEluUCwgT3V0UGFyYW0gYXMgT3V0UH0gZnJvbSBcIi4vbG9naWNfbWV0aG9kc1wiO1xuaW1wb3J0IHsgTG9naWMgfSBmcm9tIFwiLi9sb2dpY1wiO1xuXG5leHBvcnQgY2xhc3MgTG9naWNSdWxlIHtcbiAgcHJpdmF0ZSBhbnRlY2VkZW50OiAobnVtYmVyIHwgbnVsbClbXTtcbiAgcHJpdmF0ZSBjb25zZXF1ZW50OiBPdXRQO1xuXG4gIGNvbnN0cnVjdG9yKGFudGVjZWRlbnQ6IChudW1iZXIgfCBudWxsKVtdLCBjb25zZXF1ZW50OiBPdXRQKSB7XG4gICAgICBpZiAoYW50ZWNlZGVudC5sZW5ndGggPiA3KVxuICAgICAgICAgIHRocm93IFwiSU5DT1JSRUNUIEFOVEVDRURFTlQgSU4gUlVMRVwiO1xuICAgICAgdGhpcy5hbnRlY2VkZW50ID0gYW50ZWNlZGVudDtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNyAtIGFudGVjZWRlbnQubGVuZ3RoOyBpKyspXG4gICAgICAgIHRoaXMuYW50ZWNlZGVudC5wdXNoKG51bGwpO1xuICAgICAgdGhpcy5jb25zZXF1ZW50ID0gY29uc2VxdWVudDtcbiAgfVxuXG4gIGFwcGx5KGlucHV0czogRnV6enlTZW5zb3JbXSkgOiBGdXp6eU91dFBhcmFtIHwgbnVsbCB7XG4gICAgICBsZXQgcmVzdWx0ID0gMTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNzsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYW50ZWNlZGVudFtpXSA9PSBudWxsKVxuICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICBsZXQgbWFzayA9IHRoaXMuYW50ZWNlZGVudFtpXSE7XG4gICAgICAgICAgbGV0IHRlbXAgPSBpbnB1dHNbaV0udmFsdWVzLmZpbHRlcih4ID0+ICh4LmRpc3RhbmNlICYgbWFzaykgIT0gMCk7XG4gICAgICAgICAgaWYgKHRlbXAubGVuZ3RoID09IDApXG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIGxldCBtYXggPSBNYXRoLm1heCguLi50ZW1wLm1hcCh4ID0+IHgudmFsdWUpKVxuICAgICAgICAgIGlmIChtYXggPCByZXN1bHQpXG4gICAgICAgICAgICAgIHJlc3VsdCA9IG1heDtcbiAgICAgIH1cbiAgICAvLyAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAgIHBhcmFtOiB0aGlzLmNvbnNlcXVlbnQsXG4gICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgfTtcbiAgfVxufVxuXG5leHBvcnQgdmFyIExPR0lDX1JVTEVTOiBMb2dpY1J1bGVbXSA9IFtcbiAgICAvLyBTcGVlZCBydWxlcyAtIG9ic3RhY2xlc1xuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIG51bGwsIEluUC5GYXIsIG51bGwsIG51bGwsIG51bGwsIEluUC5URmFyXSwgT3V0UC5NZWRpdW0pLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIG51bGwsIEluUC5NZWRpdW0sIG51bGwsIG51bGwsIEluUC5URmFyXSwgT3V0UC5NZWRpdW0pLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIG51bGwsIEluUC5DbG9zZSwgbnVsbCwgbnVsbCwgSW5QLlRGYXJdLCBPdXRQLlNsb3cpLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIG51bGwsIEluUC5WZXJ5Q2xvc2UsIG51bGwsIG51bGxdLCBPdXRQLlZlcnlTbG93KSxcbiAgICBuZXcgTG9naWNSdWxlKFtudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBudWxsLCBJblAuVENsb3NlXSwgT3V0UC5WZXJ5U2xvdyksXG5cbiAgICAvLyAqKiogT2JzdGFjbGVzIHR1cm4gcnVsZXNcbiAgICAvLyBJZiBzb21ldGhpbmcgb24gbGVmdCAtPiB0dXJuIHJpZ2h0XG4gICAgbmV3IExvZ2ljUnVsZShbbnVsbCwgSW5QLk1lZGl1bSwgICAgSW5QLk1lZGl1bSwgICAgSW5QLkZhciwgICAgICAgIG51bGxdLCBPdXRQLlJpZ2h0KSxcbiAgICBuZXcgTG9naWNSdWxlKFtudWxsLCBsZShJblAuQ2xvc2UpLCBsZShJblAuQ2xvc2UpLCBnZShJblAuTWVkaXVtKSwgbnVsbF0sIE91dFAuU3Ryb25nUmlnaHQpLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIEluUC5WZXJ5Q2xvc2UsIG51bGwsICAgICAgICAgIGdlKEluUC5DbG9zZSksICBudWxsXSwgT3V0UC5TdHJvbmdSaWdodCksXG5cbiAgICAvLyAvLyBJZiBzb21ldGhpbmcgb24gcmlnaHQgLT4gdHVybiBsZWZ0XG4gICAgbmV3IExvZ2ljUnVsZShbbnVsbCwgSW5QLkZhciwgICAgICAgIEluUC5NZWRpdW0sICAgIEluUC5NZWRpdW0sICAgIG51bGxdLCBPdXRQLkxlZnQpLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIGdlKEluUC5NZWRpdW0pLCBsZShJblAuQ2xvc2UpLCBsZShJblAuQ2xvc2UpLCBudWxsXSwgT3V0UC5TdHJvbmdMZWZ0KSxcbiAgICBuZXcgTG9naWNSdWxlKFtudWxsLCBnZShJblAuQ2xvc2UpLCAgbnVsbCwgICAgICAgICAgSW5QLlZlcnlDbG9zZSwgbnVsbF0sIE91dFAuU3Ryb25nTGVmdCksXG5cbiAgICAvLyAvLyAqKiogVGFyZ2V0aW5nXG4gICAgLy8gLy8g0J/QvtCy0L7RgNC+0YIg0YHRgNCw0LHQsNGC0YvQstCw0LXRgiDQsiDRgdC70L7QttC90YvRhSDRgdC40YLRg9Cw0YbQuNGPICjQvdCw0LTQviDRg9C20LXRgdGC0L7Rh9C40YLRjCDQv9GA0LDQstC40LvQsClcbiAgICAvLyAvLyBJZiBUYXJnZXQgb24gbGVmdCAmJiBGcmVlIGFoZWFkIC0+IHR1cm4gbGVmdFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIEluUC5GYXIsIGdlKEluUC5GYXIpLCBudWxsLCBnZShJblAuTWVkaXVtKSwgSW5QLlRTdHJvbmdMZWZ0XSwgIE91dFAuU3Ryb25nTGVmdCksXG4gICAgbmV3IExvZ2ljUnVsZShbbnVsbCwgSW5QLkZhciwgZ2UoSW5QLkZhciksIG51bGwsIGdlKEluUC5NZWRpdW0pLCBJblAuVExlZnRdLCAgICAgICAgT3V0UC5MZWZ0KSxcbiAgICAvLyAvLyBJZiBUYXJnZXQgb24gcmlnaHQgJiYgRnJlZSBhaGVkIC0+IHR1cm4gcmlnaHRcbiAgICBuZXcgTG9naWNSdWxlKFtnZShJblAuTWVkaXVtKSwgbnVsbCwgZ2UoSW5QLkZhciksIEluUC5GYXIsIG51bGwsIEluUC5UU3Ryb25nUmlnaHRdLCBPdXRQLlN0cm9uZ1JpZ2h0KSxcbiAgICBuZXcgTG9naWNSdWxlKFtnZShJblAuTWVkaXVtKSwgbnVsbCwgZ2UoSW5QLkZhciksIEluUC5GYXIsIG51bGwsIEluUC5UUmlnaHRdLCAgICAgICBPdXRQLlJpZ2h0KSxcblxuICAgIC8vIC8vICoqKiBUcmFwIHNvbHV0aW9uXG4gICAgLy8gLy8gUHJpb3JpdGl6aW5nIExFRlQgd2hlbiBvYnN0YWNsZSBvbiBmcm9udCAmJiBMRUZUID09IFJJR0hUXG4gICAgbmV3IExvZ2ljUnVsZShbbnVsbCwgSW5QLkZhciwgICAgbGUoSW5QLk1lZGl1bSksIEluUC5GYXIsICAgIG51bGxdLCBPdXRQLlN0cm9uZ0xlZnQpLFxuICAgIG5ldyBMb2dpY1J1bGUoW251bGwsIEluUC5NZWRpdW0sIEluUC5NZWRpdW0sIEluUC5NZWRpdW0sIG51bGxdLCBPdXRQLlN0cm9uZ0xlZnQpLFxuXG4gICAgbmV3IExvZ2ljUnVsZShbbGUoSW5QLkNsb3NlKSwgSW5QLkZhciwgbnVsbCwgbnVsbCwgbnVsbF0sICAgICAgICAgIE91dFAuTGVmdCksXG4gICAgbmV3IExvZ2ljUnVsZShbbnVsbCwgICAgICAgICAgbnVsbCwgbnVsbCwgSW5QLkZhciwgbGUoSW5QLkNsb3NlKV0sIE91dFAuUmlnaHQpLFxuXG5cbiAgICAvLyDQodC70LjRiNC60L7QvCDQvtGC0LTQsNC70Y/QtdGC0YHRjyDQv9GA0Lgg0L/QvtC/0YvRgtC60LUg0L7RgtC70LjQv9Cw0L3QuNGPXG4gICAgLy8gwqDQntCi0JvQmNCfINCU0J7Qm9CW0JXQnSDQl9CQ0JLQmNCh0JjQotCsINCe0KIg0KPQk9Cb0JAg0KLQkNCg0JPQldCi0JBcbiAgICAvLyBBbnRpc3RpY2sgcnVsZXNcbiAgICBuZXcgTG9naWNSdWxlKFtsZShJblAuQ2xvc2UpLCBsZShJblAuTWVkaXVtKSwgZ2UoSW5QLkZhciksIGdlKEluUC5GYXIpLCAgICAgICAgICBnZShJblAuTWVkaXVtKSwgSW5QLlRTdHJvbmdSaWdodF0sIE91dFAuUmlnaHQpLFxuICAgIC8vIG5ldyBMb2dpY1J1bGUoW2xlKEluUC5DbG9zZSksIGxlKEluUC5NZWRpdW0pLCBnZShJblAuRmFyKSwgZ2UoSW5QLkZhciksICAgICAgICAgIGdlKEluUC5NZWRpdW0pLCBudWxsXSwgT3V0UC5NZWRpdW0pLFxuICAgIG5ldyBMb2dpY1J1bGUoW2dlKEluUC5NZWRpdW0pLCAgICBnZShJblAuRmFyKSwgICAgICAgZ2UoSW5QLkZhciksIGxlKEluUC5NZWRpdW0pLCBsZShJblAuQ2xvc2UpLCBJblAuVExlZnRdLCAgT3V0UC5TdHJvbmdMZWZ0KSxcbiAgICAvLyBuZXcgTG9naWNSdWxlKFtnZShJblAuTWVkaXVtKSwgICAgZ2UoSW5QLkZhciksICAgICAgIGdlKEluUC5GYXIpLCBsZShJblAuTWVkaXVtKSwgbGUoSW5QLkNsb3NlKSwgbnVsbF0sICBPdXRQLk1lZGl1bSksXG5dXG5cbi8vIEdyZWF0ZXIgb3IgZXF1YWxcbmZ1bmN0aW9uIGdlKHBhcmFtOiBJblApIDogbnVtYmVyIHtcbiAgICByZXR1cm4gMTAyNCAtIHBhcmFtXG59XG5cbi8vIExlc3NlciBvciBlcXVhbFxuZnVuY3Rpb24gbGUocGFyYW06IEluUCkgOiBudW1iZXIge1xuICAgIHJldHVybiAocGFyYW0gPDwgMSkgLSAxXG59XG5cbiIsImltcG9ydCB7aW5mb19kaXNwbGF5fSBmcm9tIFwiLi4vYmFzZS9pbmZvX2Rpc3BsYXlcIjtcbmltcG9ydCB7ZXZhbF9mdXp6eV9zZW5zb3IsIGV2YWxfcGFyYW1zLCBGdXp6eU91dFBhcmFtLCBGdXp6eVNlbnNvciwgaXNfc3BlZWQsIExvZ2ljTWV0aG9kcyx9IGZyb20gXCIuL2xvZ2ljX21ldGhvZHNcIjtcbmltcG9ydCB7TE9HSUNfUlVMRVN9IGZyb20gXCIuL2xvZ2ljX3J1bGVcIjtcbmltcG9ydCB7RnVuY3Rpb25JbnRlcnZhbHN9IGZyb20gXCIuL2Z1bmN0aW9uX2ludGVydmFsc1wiO1xuXG5leHBvcnQgY2xhc3MgTG9naWNTdGF0dXMge1xuICAgIHByaXZhdGUgZnV6enlfaW5wdXRzOiBGdXp6eVNlbnNvcltdID0gW107XG4gICAgcHJpdmF0ZSBmdXp6eV9zcGVlZDogIEZ1enp5T3V0UGFyYW1bXSA9IFtdO1xuICAgIHByaXZhdGUgZnV6enlfdHVybjogICBGdXp6eU91dFBhcmFtW10gPSBbXTtcbiAgICBwcml2YXRlIGxvZ2ljX21ldGhvZHM6IExvZ2ljTWV0aG9kcztcbiAgICBvdXRwdXRfc3BlZWQ6IG51bWJlciA9IDA7XG4gICAgb3V0cHV0X3R1cm46IG51bWJlciA9IDA7XG5cbiAgICBjb25zdHJ1Y3RvcihpbnRlcnZhbHM6IEZ1bmN0aW9uSW50ZXJ2YWxzKSB7XG4gICAgICAgIHRoaXMubG9naWNfbWV0aG9kcyA9IG5ldyBMb2dpY01ldGhvZHMoaW50ZXJ2YWxzKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlKHNlbnNvcl92YWx1ZXM6IG51bWJlcltdLCB0YXJnZXRfYW5nbGU6IG51bWJlciwgdGFyZ2V0X2Rpc3RhbmNlOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5mdXp6eV9pbnB1dHMgPSBzZW5zb3JfdmFsdWVzLm1hcCgodmFsKSA9PlxuICAgICAgICAgICAgZXZhbF9mdXp6eV9zZW5zb3IodmFsLCB0aGlzLmxvZ2ljX21ldGhvZHMuaW5fZGlzdF9mdW5jcykpO1xuICAgICAgICBsZXQgZnV6enlfYW5nbGUgPSBldmFsX2Z1enp5X3NlbnNvcih0YXJnZXRfYW5nbGUsIHRoaXMubG9naWNfbWV0aG9kcy5pbl9hbmdsX2Z1bmNzKTtcbiAgICAgICAgbGV0IGZ1enp5X2Rpc3QgPSBldmFsX2Z1enp5X3NlbnNvcih0YXJnZXRfZGlzdGFuY2UsIHRoaXMubG9naWNfbWV0aG9kcy5pbl90X2Rpc3RfZnVuY3MpO1xuICAgICAgICB0aGlzLmZ1enp5X2lucHV0cy5wdXNoKGZ1enp5X2FuZ2xlLCBmdXp6eV9kaXN0KTtcbiAgICAgICAgdGhpcy5ldmFsX2Z1enp5X291dF9wYXJhbXMoKTtcbiAgICAgICAgdGhpcy5vdXRwdXRfc3BlZWQgPSBldmFsX3BhcmFtcyh0aGlzLmxvZ2ljX21ldGhvZHMubWVyZ2VfcGFyYW1zKHRoaXMuZnV6enlfc3BlZWQpKTtcbiAgICAgICAgdGhpcy5vdXRwdXRfdHVybiA9IGV2YWxfcGFyYW1zKHRoaXMubG9naWNfbWV0aG9kcy5tZXJnZV9wYXJhbXModGhpcy5mdXp6eV90dXJuKSk7XG4gICAgICAgIHRoaXMucHJpbnRfaW5mbygpO1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVzZXRfb3V0cHV0cygpIHtcbiAgICAgICAgdGhpcy5mdXp6eV9zcGVlZCA9IFtdO1xuICAgICAgICB0aGlzLmZ1enp5X3R1cm4gPSBbXTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGV2YWxfZnV6enlfb3V0X3BhcmFtcygpIHtcbiAgICAgICAgdGhpcy5yZXNldF9vdXRwdXRzKCk7XG4gICAgICAgIGZvciAobGV0IHJ1bGUgb2YgTE9HSUNfUlVMRVMpIHtcbiAgICAgICAgICAgIGxldCB0ZW1wID0gcnVsZS5hcHBseSh0aGlzLmZ1enp5X2lucHV0cyk7XG4gICAgICAgICAgICBpZiAodGVtcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzX3NwZWVkKHRlbXAucGFyYW0pKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZF9vdXRfcGFyYW0odGVtcCwgdGhpcy5mdXp6eV9zcGVlZCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZF9vdXRfcGFyYW0odGVtcCwgdGhpcy5mdXp6eV90dXJuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vINCSINC40LTQtdCw0LvQtSDQt9Cw0LzRg9GC0LjRgtGMINCx0Ysg0LHQuNC90LDRgNC90YvQuSDQv9C+0LjRgdC6LCDQvdC+INC80L3QtSDQu9C10L3RjFxuICAgIHByaXZhdGUgYWRkX291dF9wYXJhbShwYXJhbTogRnV6enlPdXRQYXJhbSwgY29sbGVjdGlvbjogRnV6enlPdXRQYXJhbVtdKSB7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgd2hpbGUgKGkgPCBjb2xsZWN0aW9uLmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGVsZW0gPSBjb2xsZWN0aW9uW2ldO1xuICAgICAgICAgICAgaWYgKHBhcmFtLnBhcmFtIDwgZWxlbS5wYXJhbSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChwYXJhbS5wYXJhbSA9PSBlbGVtLnBhcmFtKSB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtLnZhbHVlID4gZWxlbS52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgZWxlbS52YWx1ZSA9IHBhcmFtLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBjb2xsZWN0aW9uLnNwbGljZShpLCAwLCBwYXJhbSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcmludF9pbmZvKCkge1xuICAgICAgICBpbmZvX2Rpc3BsYXkucHJpbnRfc2Vuc29yc19mdXp6eSh0aGlzLmZ1enp5X2lucHV0cyk7XG4gICAgICAgIGluZm9fZGlzcGxheS5wcmludF9mdXp6eV9zcGVlZCh0aGlzLmZ1enp5X3NwZWVkKTtcbiAgICAgICAgaW5mb19kaXNwbGF5LnByaW50X2Z1enp5X3R1cm4odGhpcy5mdXp6eV90dXJuKTtcbiAgICB9XG59XG4iLCJjb25zdCBwaSA9IE1hdGguUEk7XG5cbmV4cG9ydCBjbGFzcyBGdW5jdGlvbkludGVydmFscyB7XG4gIGRpc3RhbmNlOiBudW1iZXJbXTtcbiAgYW5nbGU6IG51bWJlcltdO1xuICB0YXJnZXRfZGlzdDogbnVtYmVyW107XG4gIHNwZWVkOiBudW1iZXJbXTtcbiAgdHVybjogbnVtYmVyW107XG4gIC8vRGVwZW5kZW5jZSBudW1iZXIgZm9yIGNvbnZlcnRpbmcgZGlzdGFuY2VzLCBkZWZpbmVzICdmYXInXG5cbiAgc3RhdGljIHZhbGlkYXRlX2lucHV0X3ZhbHVlcyh0dXJuX3JhbmdlOiBudW1iZXIsIHNlbnNvcnNfZHN0OiBudW1iZXIsIG1heF9zcGVlZDogbnVtYmVyKXtcbiAgICByZXR1cm4gKHNlbnNvcnNfZHN0ID49IHR1cm5fcmFuZ2UqNyB8fCBzZW5zb3JzX2RzdCA+PSAxMDUpICYmIG1heF9zcGVlZCA+IDIwICYmIG1heF9zcGVlZCA8PSAyMDAgJiYgdHVybl9yYW5nZSA+IDUgJiYgdHVybl9yYW5nZSA8IDI1O1xuICB9XG5cbiAgY29uc3RydWN0b3IodHVybl9yYW5nZSA6IG51bWJlciwgbWF4X3NwZWVkOiBudW1iZXIpIHtcbiAgICBjb25zdCByYW5nZSA9IHR1cm5fcmFuZ2UgKiA3O1xuICAgIGxldCBrID0gKCh0dXJuX3JhbmdlIC0gNSkgLyAxMCk7XG4gICAgLy8gICAgICAgICAgICAgICB8X19fX19fICAgX19fX18gICBfX19fXyAgIF9fX19cbiAgICAvLyAgICAgICAgICAgICAgIHwgICAgICBcXCAvICAgICBcXCAvICAgICBcXCAvXG4gICAgLy8gICAgICAgICAgICAgICB8ICAgICAgIOKVsyAgICAgICDilbMgICAgICAg4pWzXG4gICAgLy8gICAgICAgICAgICAgICB8ICAgICAgLyBcXCAgICAgLyBcXCAgICAgLyBcXFxuICAgIC8vICAgICAgICAgICAgICAgMF9fMSAgMiAgIDMgICA0ICAgNSAgIDYgICA3XG4gICAgdGhpcy5kaXN0YW5jZSA9IFswLCAwLCAyMCwgMjcsIDM1LCA0MCwgNDUsIDk1LCBJbmZpbml0eSwgSW5maW5pdHldLm1hcCh4ID0+IHggKiBrKTtcblxuXG4gICAgLy8gICAgICAgICAgICAgIF9fX18gICAgICAgICAgICAgICBfX19fXG4gICAgLy8gICAgICAgICAgICAgICAgICBcXCAgLyBcXCB8IC8gXFwgIC9cbiAgICAvLyAgICAgICAgICAgICAgICAgICBcXC8gICBcXHwvICAgXFwvXG4gICAgLy8gICAgICAgICAgICAgICAgICAgL1xcICAgL3xcXCAgIC9cXFxuICAgIC8vICAgICAgICAgICAgICAgICAgLyAgXFwgLyB8IFxcIC8gIFxcXG4gICAgLy8gICAgICAgICAgICAgMDEgIDIgICAzXzQgICA1XzYgICA3ICA4OVxuICAgIHRoaXMuYW5nbGUgPSBbLXBpLC1waSwgLTMqcGkvNCwgLXBpLzQsIC1waS80LCBwaS80LCBwaS80LCAzKnBpLzQsIHBpLCBwaV1cblxuICAgIC8vICAgICAgICAgICAgICAgICAgfF9fX19fXyAgIF9fX19fX19cbiAgICAvLyAgICAgICAgICAgICAgICAgIHwgICAgICBcXCAvXG4gICAgLy8gICAgICAgICAgICAgICAgICB8ICAgICAgIOKVs1xuICAgIC8vICAgICAgICAgICAgICAgICAgfCAgICAgIC8gXFxcbiAgICAvLyAgICAgICAgICAgICAgICAgIDBfXzEgIDIgICAzXG4gICAgdGhpcy50YXJnZXRfZGlzdCA9IFswLCAwLCAyLCAzLCBJbmZpbml0eSwgSW5maW5pdHldLm1hcCh4ID0+IHgqTWF0aC5tYXgobWF4X3NwZWVkLCAxMDApKVxuXG4gICAgLy8gICAgICAgICAgICAgfCAgICAgX19fXyAgIF9fX19fICAgX19fX19cbiAgICAvLyAgICAgICAgICAgICB8XFwgICAvICAgIFxcIC8gICAgIFxcIC9cbiAgICAvLyAgICAgICAgICAgICB8ICDilbMgICAgICAg4pWzICAgICAgIOKVs1xuICAgIC8vICAgICAgICAgICAgIHwvICAgXFwgICAgLyBcXCAgICAgLyBcXFxuICAgIC8vICAgICAgICAgICAgMDEgICAgMyAgNCAgIDUgICA2ICAgN1xuICAgIHRoaXMuc3BlZWQgPSBbMCwwLDAsIDE1LCAxOCwgMjAsIG1heF9zcGVlZCooNC82KSwgbWF4X3NwZWVkKig1LzYpLCBtYXhfc3BlZWQqKDYvNiksIG1heF9zcGVlZCooNi82KV1cblxuICAgIC8vICAgICAgICAgICAgICBfX19fICAgICAgICAgICAgICAgX19fX1xuICAgIC8vICAgICAgICAgICAgICAgICAgXFwgIC8gXFwgfCAvIFxcICAvXG4gICAgLy8gICAgICAgICAgICAgICAgICAgXFwvICAgXFx8LyAgIFxcL1xuICAgIC8vICAgICAgICAgICAgICAgICAgIC9cXCAgIC98XFwgICAvXFxcbiAgICAvLyAgICAgICAgICAgICAgICAgIC8gIFxcIC8gfCBcXCAvICBcXFxuICAgIC8vICAgICAgICAgICAgIDAxICAyICAgM180ICAgNV82ICAgNyAgODlcbiAgICB0aGlzLnR1cm4gPSAgWy00KnBpLzQsIC00KnBpLzQsIC00KnBpLzQsIC1waS80LCBwaS80LCBwaS80LCBwaS80LCA0KnBpLzQsIDQqcGkvNCwgNCpwaS80XVxuICB9XG59XG5cbi8vcGFzcyAg0YDQsNC00LjRg9GBINC/0L7QstC+0YDQvtGC0LBcbmV4cG9ydCB2YXIgRkkgOiBGdW5jdGlvbkludGVydmFscztcbkZJID0gbmV3IEZ1bmN0aW9uSW50ZXJ2YWxzKDE1LCAxMDApOyAvLyDQnNC+0LbQvdC+INC/0L7QvNC10L3Rj9GC0Ywg0LzQtdGB0YLQviDQuNC90LjRhtC40LDQu9C40LfQsNGG0LjQuFxuXG4iLCJpbXBvcnQge1BvaW50fSBmcm9tIFwiLi9nZW9tZXRyeVwiO1xuaW1wb3J0IHtEcmF3YWJsZUFjdG9yLCBEcmF3YWJsZU1hcCwgRHJhd2FibGVTZW5zb3J9IGZyb20gXCIuLi9ncmFwaGljcy9kcmF3ZXJcIjtcbmltcG9ydCB7UGhpc2ljc0FjdG9yLCBQaGlzaWNzTWFwLCBQaGlzaWNzU2Vuc29yfSBmcm9tIFwiLi4vcGhpc2ljcy9waGlzaWNzXCI7XG5pbXBvcnQge2V4dHJhY3RJbWFnZURhdGF9IGZyb20gXCIuLi9pbWFnZS9oZWxwZXJzXCI7XG5pbXBvcnQge0xvZ2ljQWN0b3IsIExvZ2ljTWFwLCBMb2dpY1NlbnNvciwgTG9naWNUYXJnZXRTZW5zb3J9IGZyb20gXCIuLi9sb2dpYy9sb2dpY1wiO1xuaW1wb3J0IHtMb2dpY1N0YXR1c30gZnJvbSBcIi4uL2xvZ2ljL2xvZ2ljX3N0YXR1c1wiO1xuaW1wb3J0IHtGdW5jdGlvbkludGVydmFsc30gZnJvbSBcIi4uL2xvZ2ljL2Z1bmN0aW9uX2ludGVydmFsc1wiO1xuXG5leHBvcnQgY2xhc3MgQmxhbmtTZW5zb3IgaW1wbGVtZW50cyBQaGlzaWNzU2Vuc29yLCBMb2dpY1NlbnNvciwgRHJhd2FibGVTZW5zb3Ige1xuICAgIC8vICDQlNCw0LvRjNC90L7RgdGC0Ywg0LjQt9C80LXRgNC10L3QuNGPINC00LDRgtGH0LjQutCwXG4gICAgZGlzdGFuY2U6IG51bWJlcjtcblxuICAgIC8vICDQo9Cz0L7QuyDQv9C+0LLQvtGA0L7RgtCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQvNCw0YjQuNC90LrQuFxuICAgIGFuZ2xlOiBudW1iZXI7XG5cbiAgICAvLyAg0JfQvdCw0YfQtdC90LjQtSDRgdC10L3RgdC+0YDQsCAtINGA0LDRgdGB0YLQvtGP0L3QuNC1INC00L4g0L/RgNC10L/Rj9GC0YHRgtCy0LjRj1xuICAgIHZhbHVlOiBudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihkaXN0YW5jZTogbnVtYmVyLCBhbmdsZTogbnVtYmVyKXtcbiAgICAgICAgdGhpcy52YWx1ZSA9IDA7XG4gICAgICAgIHRoaXMuZGlzdGFuY2UgPSBkaXN0YW5jZTtcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhcmdldFNlbnNvciBpbXBsZW1lbnRzIExvZ2ljVGFyZ2V0U2Vuc29yIHtcbiAgICBwdWJsaWMgYW5nbGU6IG51bWJlcjtcbiAgICBwdWJsaWMgZGlzdGFuY2U6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMuYW5nbGUgPSAwO1xuICAgICAgICB0aGlzLmRpc3RhbmNlID0gMDtcbiAgICB9XG59XG5cbmV4cG9ydCB0eXBlIENhclNldHRpbmdzID0ge1xuICAgIHR1cm5fcmFkaXVzOiBudW1iZXIsXG4gICAgbWF4X3NwZWVkOiBudW1iZXIsXG4gICAgYWNjZWxlcmF0aW9uOiBudW1iZXIsXG4gICAgc2Vuc29yX2xlbjogbnVtYmVyLFxuICAgIGNvb3JkaW5hdGVzOiBQb2ludCxcbiAgICBhbmdsZTogbnVtYmVyLFxufTtcblxuZXhwb3J0IGNsYXNzIEJsYW5rQ2FyIGltcGxlbWVudHMgRHJhd2FibGVBY3RvciwgUGhpc2ljc0FjdG9yLCBMb2dpY0FjdG9yIHtcbiAgICBjb29yZGluYXRlczogUG9pbnQ7XG5cbiAgICBzcGVlZDogbnVtYmVyO1xuICAgIG5lY2Vzc2FyeV9zcGVlZDogbnVtYmVyO1xuICAgIG1heF9zcGVlZDogbnVtYmVyO1xuICAgIGFjY2VsZXJhdGlvbjogbnVtYmVyO1xuXG4gICAgYW5nbGU6IG51bWJlcjtcbiAgICB3aGVlbF9hbmdsZTogbnVtYmVyO1xuICAgIHR1cm5fcmFkaXVzOiBudW1iZXI7XG5cbiAgICBzZW5zb3JzOiBBcnJheTxCbGFua1NlbnNvcj47XG4gICAgdGFyZ2V0OiBUYXJnZXRTZW5zb3I7XG4gICAgc3RhdHVzOiBMb2dpY1N0YXR1cztcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFkb25seSB2aWV3OiBJbWFnZUJpdG1hcCwgY3M6IENhclNldHRpbmdzKSB7XG4gICAgICAgIHRoaXMuY29vcmRpbmF0ZXMgPSBjcy5jb29yZGluYXRlcztcbiAgICAgICAgdGhpcy5hbmdsZSA9IGNzLmFuZ2xlO1xuICAgICAgICB0aGlzLnNwZWVkID0gMDtcblxuICAgICAgICB0aGlzLm5lY2Vzc2FyeV9zcGVlZCA9IDEwMDtcbiAgICAgICAgdGhpcy53aGVlbF9hbmdsZSA9IDA7XG5cbiAgICAgICAgdGhpcy50dXJuX3JhZGl1cyA9IGNzLnR1cm5fcmFkaXVzO1xuICAgICAgICB0aGlzLm1heF9zcGVlZCA9IGNzLm1heF9zcGVlZDtcblxuICAgICAgICB0aGlzLmFjY2VsZXJhdGlvbiA9IGNzLmFjY2VsZXJhdGlvbjtcblxuICAgICAgICB0aGlzLnNlbnNvcnMgPSBbXG4gICAgICAgICAgICBuZXcgQmxhbmtTZW5zb3IoY3Muc2Vuc29yX2xlbiwgLU1hdGguUEkvMiksXG4gICAgICAgICAgICBuZXcgQmxhbmtTZW5zb3IoY3Muc2Vuc29yX2xlbiwgLU1hdGguUEkvNCksIC8vIExFRlRcbiAgICAgICAgICAgIG5ldyBCbGFua1NlbnNvcihjcy5zZW5zb3JfbGVuLCAwKSwgICAgICAgICAgLy8gTUlERExFXG4gICAgICAgICAgICBuZXcgQmxhbmtTZW5zb3IoY3Muc2Vuc29yX2xlbiwgTWF0aC5QSS80KSwgICAvLyBSSUdIVFxuICAgICAgICAgICAgbmV3IEJsYW5rU2Vuc29yKGNzLnNlbnNvcl9sZW4sIE1hdGguUEkvMilcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy50YXJnZXQgPSBuZXcgVGFyZ2V0U2Vuc29yKCk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gbmV3IExvZ2ljU3RhdHVzKG5ldyBGdW5jdGlvbkludGVydmFscyhjcy50dXJuX3JhZGl1cywgY3MubWF4X3NwZWVkKSk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBoZWlnaHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcuaGVpZ2h0O1xuICAgIH1cblxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXcud2lkdGg7XG4gICAgfVxufVxuXG5jbGFzcyBQaHlzaWNzTWFwIHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IG1hcDogVWludDhBcnJheTtcbiAgICBwcml2YXRlIHJlYWRvbmx5IGhlaWdodDogbnVtYmVyO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGltZzogSW1hZ2VEYXRhKSB7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaW1nLmhlaWdodDtcbiAgICAgICAgdGhpcy53aWR0aCA9IGltZy53aWR0aDtcbiAgICAgICAgdGhpcy5tYXAgPSBuZXcgVWludDhBcnJheShpbWcuaGVpZ2h0ICogaW1nLndpZHRoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1hcC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5tYXBbaV0gPSBbMCwgMSwgMl0ubWFwKGogPT4gaW1nLmRhdGFbNCAqIGkgKyBqXSkucmVkdWNlKChhLCBiKSA9PiBNYXRoLm1pbihhLCBiKSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzX2JhcnJpZXIocDogUG9pbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHAueCA8IDAgfHwgcC55IDwgMCB8fCBwLnggPiB0aGlzLndpZHRoIHx8IHAueSA+IHRoaXMuaGVpZ2h0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAyNTUgIT09IHRoaXMubWFwW3AueCArIHAueSAqIHRoaXMud2lkdGhdXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgQmxhbmtNYXAgZXh0ZW5kcyBQaHlzaWNzTWFwIGltcGxlbWVudHMgRHJhd2FibGVNYXAsIFBoaXNpY3NNYXAsIExvZ2ljTWFwIHtcbiAgICBwdWJsaWMgdGFyZ2V0OiBQb2ludDtcblxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcihyZWFkb25seSBzdGFnZTogSW1hZ2VCaXRtYXAsIHB1YmxpYyBjYXI6IEJsYW5rQ2FyLCB0YXJnZXQ6IFBvaW50KSB7XG4gICAgICAgIHN1cGVyKGV4dHJhY3RJbWFnZURhdGEoc3RhZ2UpKVxuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWN0b3JzKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuY2FyXTtcbiAgICB9XG59XG4iLCJcbmltcG9ydCB7IFBvaW50IH0gZnJvbSBcIi4uL2Jhc2UvZ2VvbWV0cnlcIjtcblxuZXhwb3J0IGludGVyZmFjZSBQaGlzaWNzQWN0b3J7XG4gICAgLy8g0JrQvtC+0YDQtNC40L3QsNGC0Ysg0YbQtdC90YLRgNCwXG4gICAgY29vcmRpbmF0ZXM6IFBvaW50O1xuXG4gICAgc3BlZWQ6IG51bWJlcjtcbiAgICByZWFkb25seSBuZWNlc3Nhcnlfc3BlZWQ6IG51bWJlcjtcbiAgICByZWFkb25seSBtYXhfc3BlZWQ6IG51bWJlcjtcbiAgICByZWFkb25seSBhY2NlbGVyYXRpb246IG51bWJlcjtcblxuICAgIGFuZ2xlOiBudW1iZXI7XG4gICAgcmVhZG9ubHkgd2hlZWxfYW5nbGU6IG51bWJlcjtcbiAgICByZWFkb25seSB0dXJuX3JhZGl1czogbnVtYmVyO1xuXG4gICAgcmVhZG9ubHkgaGVpZ2h0OiBudW1iZXI7XG4gICAgcmVhZG9ubHkgd2lkdGg6IG51bWJlcjtcblxuICAgIHNlbnNvcnM6IEFycmF5PFBoaXNpY3NTZW5zb3I+O1xuICAgIHRhcmdldDogUGhpc2ljc1RhcmdldFNlbnNvcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaGlzaWNzTWFwe1xuICAgIC8vINCm0LXQu9GMINC00LvRjyDQvNCw0YjQuNC90L7QulxuICAgIHJlYWRvbmx5IHRhcmdldDogUG9pbnQ7XG5cbiAgICAvLyDQktC+0LfQstGA0LDRidCw0LXRgiB0cnVlINC10YHQu9C4INCyINC00LDQvdC90L7QuSDRgtC+0YfQutC1INC10YHRgtGMINC/0YDQtdC/0Y/RgtGB0YLQstC40LVcbiAgICBpc19iYXJyaWVyKHA6IFBvaW50KTogYm9vbGVhbjtcblxuICAgIC8vINCS0YHQtSDQsNC60YLQvtGA0YtcbiAgICBhY3RvcnMoKTogQXJyYXk8UGhpc2ljc0FjdG9yPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQaGlzaWNzU2Vuc29ye1xuICAgIC8vICDQlNCw0LvRjNC90L7RgdGC0Ywg0LjQt9C80LXRgNC10L3QuNGPINC00LDRgtGH0LjQutCwXG4gICAgcmVhZG9ubHkgZGlzdGFuY2U6IG51bWJlcjtcblxuICAgIC8vICDQo9Cz0L7QuyDQv9C+0LLQvtGA0L7RgtCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQvNCw0YjQuNC90LrQuFxuICAgIHJlYWRvbmx5IGFuZ2xlOiBudW1iZXI7XG5cbiAgICAvLyAg0JfQvdCw0YfQtdC90LjQtSDRgdC10L3RgdC+0YDQsCAtINGA0LDRgdGB0YLQvtGP0L3QuNC1INC00L4g0L/RgNC10L/Rj9GC0YHRgtCy0LjRj1xuICAgIHZhbHVlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGhpc2ljc1RhcmdldFNlbnNvcntcbiAgICAvLyAg0YPQs9C+0Lsg0L3QsNC/0YDQsNCy0LvQtdC90LjRjyDQvdCwINGG0LXQu9GMINCyINGA0LDQtNC40LDQvdCw0YVcbiAgICBhbmdsZTogbnVtYmVyO1xuICAgIC8vICDRgNCw0YHRgdGC0L7Rj9C90LjQtSDQtNC+INGG0LXQu9C4LCDQsiDQv9C+0L/Rg9Cz0LDRj9GFXG4gICAgZGlzdGFuY2U6IG51bWJlcjtcbn1cblxuZXhwb3J0IGNsYXNzIFBoaXNpY3NDb250ZXh0e1xuICAgIHByaXZhdGUgX21hcDogUGhpc2ljc01hcDtcblxuICAgIGNvbnN0cnVjdG9yKG1hcDogUGhpc2ljc01hcCl7XG4gICAgICAgIHRoaXMuX21hcCA9IG1hcDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxpbmVfeChwMDogUG9pbnQsIHAxOiBQb2ludCwgeTogbnVtYmVyKXtcbiAgICAgICAgcmV0dXJuICh5IC0gcDAueSkgKiAocDEueCAtIHAwLngpIC8gKHAxLnkgLSBwMC55KSArIHAwLng7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBteV9tYXgoYTogbnVtYmVyLCBiOiBudW1iZXIpe1xuICAgICAgICBpZihpc05hTihhKSlcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICBpZihpc05hTihiKSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoYSwgYik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBteV9taW4oYTogbnVtYmVyLCBiOiBudW1iZXIpe1xuICAgICAgICBpZihpc05hTihhKSlcbiAgICAgICAgICAgIHJldHVybiBiO1xuICAgICAgICBpZihpc05hTihiKSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oYSwgYik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVfc2Vuc29yKHNlbnNvcjogUGhpc2ljc1NlbnNvciwgc3RhcnQ6IFBvaW50LCBhZGRfYW5nbGU6IG51bWJlcil7XG4gICAgICAgIGxldCBhbmdsZSA9IHNlbnNvci5hbmdsZSArIGFkZF9hbmdsZTtcbiAgICAgICAgbGV0IHNpbl9hID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBsZXQgY29zX2EgPSBNYXRoLmNvcyhhbmdsZSk7XG5cbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNlbnNvci5kaXN0YW5jZTsgKytpKVxuICAgICAgICAgICAgaWYodGhpcy5fbWFwLmlzX2JhcnJpZXIoc3RhcnQuYWRkKG5ldyBQb2ludCgtaSAqIHNpbl9hLCBpICogY29zX2EpKS5yb3VuZCgpKSl7XG4gICAgICAgICAgICAgICAgc2Vuc29yLnZhbHVlID0gaTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIC8vICDQtdGB0LvQuCDQvdC40YfQtdCz0L4g0L3QtSDRg9Cy0LjQtNC10LvQuCwg0LTQtdC70LDQtdC8INCx0LXRgdC60L7QvdC10YfQvdC+0YHRgtGMKNC80L7QttC90L4g0L/QvtC80LXQvdGP0YLRjClcbiAgICAgICAgc2Vuc29yLnZhbHVlID0gSW5maW5pdHk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWNvcnJlY3RfYW5nbGUoYW5nbGU6IG51bWJlcil7XG4gICAgICAgIGlmKGFuZ2xlID4gTWF0aC5QSSlcbiAgICAgICAgICAgIGFuZ2xlIC09IDIgKiBNYXRoLlBJO1xuICAgICAgICBpZihhbmdsZSA8IC1NYXRoLlBJKVxuICAgICAgICAgICAgYW5nbGUgKz0gMiAqIE1hdGguUEk7XG4gICAgICAgIHJldHVybiBhbmdsZTtcbiAgICB9XG5cbiAgICB0aWNrKGR0OiBudW1iZXIpe1xuICAgICAgICBsZXQgYWN0b3JzID0gdGhpcy5fbWFwLmFjdG9ycygpO1xuXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBhY3RvcnMubGVuZ3RoOyArK2kpe1xuICAgICAgICAgICAgbGV0IGFjdG9yID0gYWN0b3JzW2ldO1xuXG4gICAgICAgICAgICAvLyAg0L/QvtC00L7QsdC40LUg0LzQsNGC0YDQuNGG0Ysg0L/QvtCy0L7RgNC+0YLQsFxuICAgICAgICAgICAgbGV0IHNpbl9hID0gTWF0aC5zaW4oYWN0b3IuYW5nbGUpO1xuICAgICAgICAgICAgbGV0IGNvc19hID0gTWF0aC5jb3MoYWN0b3IuYW5nbGUpO1xuICAgICAgICAgICAgLy8gINGB0L7RhdGA0LDQvdGP0LXQvCDRgdGC0LDRgNGD0Y4g0L/QvtC30LjRhtC40Y4g0Lgg0L/QvtCy0L7RgNC+0YIg0YfRgtC+INCx0Ysg0LXRgdC70Lgg0YfRgtC+INCy0LXRgNC90YPRgtGM0YHRj1xuICAgICAgICAgICAgbGV0IGxhc3RfcG9pbnQgPSBhY3Rvci5jb29yZGluYXRlcztcbiAgICAgICAgICAgIGxldCBsYXN0X2FuZ2xlID0gYWN0b3IuYW5nbGU7XG4gICAgICAgICAgICAvLyAg0L/RgNC+0LXRhdCw0L3QvdC+0LUg0LfQsCDRgtCw0LrRgiDRgNCw0YHRgdGC0L7Rj9C90LjQtVxuICAgICAgICAgICAgbGV0IGRpc3QgPSBhY3Rvci5zcGVlZCAqIGR0O1xuICAgICAgICAgICAgLy8gINC90L7QstCw0Y8g0LrQvtC+0YDQtNC40L3QsNGC0LAg0Lgg0L/QvtCy0L7RgNC+0YJcbiAgICAgICAgICAgIGFjdG9yLmNvb3JkaW5hdGVzID0gYWN0b3IuY29vcmRpbmF0ZXMuYWRkKG5ldyBQb2ludCgtZGlzdCAqIHNpbl9hLCBkaXN0ICogY29zX2EpKTtcbiAgICAgICAgICAgIGxldCB3aGVlbF9hbmdsZSA9IE1hdGgubWluKE1hdGguYWJzKGFjdG9yLndoZWVsX2FuZ2xlKSwgTWF0aC5QSSAvIDQpICogTWF0aC5zaWduKGFjdG9yLndoZWVsX2FuZ2xlKTtcbiAgICAgICAgICAgIGxldCB0ZXJuX3JhZGl1cyA9IGFjdG9yLnR1cm5fcmFkaXVzICogMiAqIE1hdGguc3FydCgxL01hdGgucG93KE1hdGguc2luKHdoZWVsX2FuZ2xlKSwgMikgLSAzIC8gNCk7XG4gICAgICAgICAgICBhY3Rvci5hbmdsZSA9IHRoaXMucmVjb3JyZWN0X2FuZ2xlKGFjdG9yLmFuZ2xlICsgTWF0aC5zaWduKHdoZWVsX2FuZ2xlKSAqIGRpc3QgLyB0ZXJuX3JhZGl1cyk7XG5cbiAgICAgICAgICAgIGxldCBuZWNlc3Nhcnlfc3BlZWQgPSBNYXRoLm1pbihNYXRoLmFicyhhY3Rvci5uZWNlc3Nhcnlfc3BlZWQpLCBhY3Rvci5tYXhfc3BlZWQpICogTWF0aC5zaWduKGFjdG9yLm5lY2Vzc2FyeV9zcGVlZCk7XG4gICAgICAgICAgICBpZihhY3Rvci5zcGVlZCA+IG5lY2Vzc2FyeV9zcGVlZClcbiAgICAgICAgICAgICAgICBhY3Rvci5zcGVlZCAtPSBhY3Rvci5hY2NlbGVyYXRpb24gKiBkdDtcbiAgICAgICAgICAgIGlmKGFjdG9yLnNwZWVkIDwgbmVjZXNzYXJ5X3NwZWVkKVxuICAgICAgICAgICAgICAgIGFjdG9yLnNwZWVkICs9IGFjdG9yLmFjY2VsZXJhdGlvbiAqIGR0O1xuXG4gICAgICAgICAgICAvLyAgLS0g0JrQvtC70LvQuNC30LjQuCAtLSAvL1xuXG4gICAgICAgICAgICAvLyAg0LTQu9C40L3QsCDQuCDRiNC40YDQuNC90LAg0LTQu9GPINC60L7Qu9C70LjQt9C40LlcbiAgICAgICAgICAgIGxldCBhID0gYWN0b3Iud2lkdGggLyAyO1xuICAgICAgICAgICAgbGV0IGIgPSBhY3Rvci5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgLy8gINGF0LDRgNC00LrQvtC00LjQvCDQv9C10YDQtdC80L3QvtC20LXQvdC40LUg0LzQsNGC0YDQuNGGXG4gICAgICAgICAgICBsZXQgQTEgPSBhICogY29zX2EgLSBiICogc2luX2E7XG4gICAgICAgICAgICBsZXQgQTIgPSBhICogY29zX2EgKyBiICogc2luX2E7XG4gICAgICAgICAgICBsZXQgQjEgPSBhICogc2luX2EgKyBiICogY29zX2E7XG4gICAgICAgICAgICBsZXQgQjIgPSBhICogc2luX2EgLSBiICogY29zX2E7XG4gICAgICAgICAgICAvLyAg0YLQvtGH0LrQuCDQv9GA0Y/QvNC+0YPQs9C+0LvRjNC90LjQutCwXG4gICAgICAgICAgICBsZXQgcG9pbnRzID0gW1xuICAgICAgICAgICAgICAgIG5ldyBQb2ludChBMSwgQjEpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludChBMiwgQjIpLFxuICAgICAgICAgICAgICAgIG5ldyBQb2ludCgtQTEsIC1CMSksXG4gICAgICAgICAgICAgICAgbmV3IFBvaW50KC1BMiwgLUIyKSxcbiAgICAgICAgICAgIF1cbiAgICAgICAgICAgIC8vICDRgdC+0YDRgtC40YDRg9C10Lwg0YLQvtGH0LrQuCDQv9C+INGH0LDRgdC+0LLQvtC5INGB0YLRgNC10LvQutC4INC+0YIg0LLQtdGA0YXQvdC10LlcbiAgICAgICAgICAgIGxldCBtYXggPSBwb2ludHNbMF0ueTtcbiAgICAgICAgICAgIGxldCBudW0gPSAwO1xuICAgICAgICAgICAgZm9yKGxldCBqID0gMTsgaiA8IDQ7ICsrailcbiAgICAgICAgICAgICAgICBpZihwb2ludHNbal0ueSA+IG1heCl7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IHBvaW50c1tqXS55O1xuICAgICAgICAgICAgICAgICAgICBudW0gPSBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vINGC0L7Rh9C60LgsINGBINC/0YDQsNCy0LjQu9GM0L3Ri9C8INCy0LfQsNC40LzQvdGL0Lwg0YDQsNGB0L/QvtC70L7QttC10L3QuNC10Lwg0Lgg0YHQtNCy0LjQs9C+0LxcbiAgICAgICAgICAgIGxldCBwX3VwICAgID0gcG9pbnRzW251bV0uYWRkKGFjdG9yLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIGxldCBwX3JpZ2h0ID0gcG9pbnRzWyhudW0gKyAxKSAlIDRdLmFkZChhY3Rvci5jb29yZGluYXRlcyk7XG4gICAgICAgICAgICBsZXQgcF9kb3duICA9IHBvaW50c1sobnVtICsgMikgJSA0XS5hZGQoYWN0b3IuY29vcmRpbmF0ZXMpO1xuICAgICAgICAgICAgbGV0IHBfbGVmdCAgPSBwb2ludHNbKG51bSArIDMpICUgNF0uYWRkKGFjdG9yLmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIC8vICDQodC+0LHRgdGC0LLQtdC90L3Qviwg0YbQuNC60LvQuNC6INC/0YDQvtCy0LXRgNC60Lgg0LrQvtC70LvQuNC30LjQuVxuICAgICAgICAgICAgbGV0IGlzX2NvbGxpc2lvbiA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yKGxldCB5ID0gTWF0aC5yb3VuZChwX2Rvd24ueSk7IHkgPCBwX3VwLnkgJiYgIWlzX2NvbGxpc2lvbjsgKyt5KXtcbiAgICAgICAgICAgICAgICBsZXQgc3RhcnQgPSB0aGlzLm15X21heCh0aGlzLmxpbmVfeChwX2Rvd24sIHBfbGVmdCwgeSksIHRoaXMubGluZV94KHBfbGVmdCwgcF91cCwgeSkpO1xuICAgICAgICAgICAgICAgIGxldCBmaW5pc2ggPSB0aGlzLm15X21pbih0aGlzLmxpbmVfeChwX2Rvd24sIHBfcmlnaHQsIHkpLCB0aGlzLmxpbmVfeChwX3JpZ2h0LCBwX3VwLCB5KSk7XG5cbiAgICAgICAgICAgICAgICBmb3IobGV0IHggPSBNYXRoLnJvdW5kKHN0YXJ0KTsgeCA8IGZpbmlzaCAmJiAhaXNfY29sbGlzaW9uOyArK3gpe1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLl9tYXAuaXNfYmFycmllcihuZXcgUG9pbnQoeCwgeSkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfY29sbGlzaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyAg0LXRgdC70Lgg0LLRgNC10LfQsNC70LjRgdGMLCDQvtGB0YLQsNC90LDQstC70LjQstCw0LXQvNGB0Y8g0Lgg0LLQvtC30LLRgNCw0YnQsNC10Lwg0YHRgtCw0YDRi9C1INC60L7QvtGA0LTQuNC90LDRgtGLXG4gICAgICAgICAgICBpZihpc19jb2xsaXNpb24pe1xuICAgICAgICAgICAgICAgIGFjdG9yLmNvb3JkaW5hdGVzID0gbGFzdF9wb2ludDtcbiAgICAgICAgICAgICAgICBhY3Rvci5hbmdsZSA9IGxhc3RfYW5nbGU7XG4gICAgICAgICAgICAgICAgYWN0b3Iuc3BlZWQgPSAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyAgLS0gINCh0LXQvdGB0L7RgNGLIC0tICAvL1xuXG4gICAgICAgICAgICAvLyAg0YHQtdC90YHQvtGA0Ysg0LTQsNC70YzQvdC+0YHRgtC4XG4gICAgICAgICAgICBhY3Rvci5zZW5zb3JzLmZvckVhY2goc2Vuc29yID0+XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVfc2Vuc29yKHNlbnNvciwgYWN0b3IuY29vcmRpbmF0ZXMsIGFjdG9yLmFuZ2xlKSk7XG4gICAgICAgICAgICAvLyAg0YHQtdC90YHQvtGAINGG0LXQu9C4XG4gICAgICAgICAgICBsZXQgZGVsdGEgPSB0aGlzLl9tYXAudGFyZ2V0LnN1YihhY3Rvci5jb29yZGluYXRlcyk7XG4gICAgICAgICAgICBhY3Rvci50YXJnZXQuZGlzdGFuY2UgPSBNYXRoLnNxcnQoZGVsdGEueCAqIGRlbHRhLnggKyBkZWx0YS55ICogZGVsdGEueSk7XG5cbiAgICAgICAgICAgIGxldCBhY29zID0gTWF0aC5hY29zKGRlbHRhLnkgLyBhY3Rvci50YXJnZXQuZGlzdGFuY2UgKTtcbiAgICAgICAgICAgIGFjdG9yLnRhcmdldC5hbmdsZSA9IHRoaXMucmVjb3JyZWN0X2FuZ2xlKC1NYXRoLnNpZ24oZGVsdGEueCkgKiBhY29zIC0gYWN0b3IuYW5nbGUpO1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWN0b3IudGFyZ2V0LmFuZ2xlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImltcG9ydCB7IGluZm9fZGlzcGxheSB9IGZyb20gXCIuLi9iYXNlL2luZm9fZGlzcGxheVwiO1xuaW1wb3J0IHsgTG9naWNTdGF0dXMgfSBmcm9tIFwiLi9sb2dpY19zdGF0dXNcIjtcbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNBY3RvcntcbiAgICAvLyDQpNCw0LrRgtC40YfQtdGB0LrQsNGPINGB0LrQvtGA0L7RgdGC0YxcbiAgICByZWFkb25seSBzcGVlZDogbnVtYmVyO1xuICAgIC8vINCh0LrQvtGA0L7RgdGC0YwsINC00L4g0LrQvtGC0L7RgNC+0Lkg0L3QsNC00L4g0LHRiyDRgNCw0LfQvtCz0L3QsNGC0YzRgdGPXG4gICAgbmVjZXNzYXJ5X3NwZWVkOiBudW1iZXI7XG4gICAgLy8g0YPQs9C+0Lsg0L/QvtCy0L7RgNC+0YLQsCDQutC+0LvRkdGBXG4gICAgd2hlZWxfYW5nbGU6IG51bWJlcjtcbiAgICAvLyDQnNCw0YHRgdC40LIg0YHQtdC90YHQvtGA0L7QslxuICAgIHNlbnNvcnM6IEFycmF5PExvZ2ljU2Vuc29yPjtcbiAgICAvLyAg0KHQtdC90YHQvtGAINC90LDQv9GA0LDQstC70LXQvdC40Y8g0L3QsCDRhtC10LvRjFxuICAgIHRhcmdldDogTG9naWNUYXJnZXRTZW5zb3I7XG4gICAgLy8gINCh0L7RgdGC0L7Rj9C90LjQtSDQvNCw0YjQuNC90LrQuFxuICAgIHN0YXR1czogTG9naWNTdGF0dXM7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG9naWNTZW5zb3J7XG4gICAgLy8gINCU0LDQu9GM0L3QvtGB0YLRjCDQuNC30LzQtdGA0LXQvdC40Y8g0LTQsNGC0YfQuNC60LBcbiAgICByZWFkb25seSBkaXN0YW5jZTogbnVtYmVyO1xuICAgIC8vICDQo9Cz0L7QuyDQv9C+0LLQvtGA0L7RgtCwINC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QviDQvNCw0YjQuNC90LrQuFxuICAgIHJlYWRvbmx5IGFuZ2xlOiBudW1iZXI7XG4gICAgLy8gINCX0L3QsNGH0LXQvdC40LUg0YHQtdC90YHQvtGA0LAgLSDRgNCw0YHRgdGC0L7Rj9C90LjQtSDQtNC+INC/0YDQtdC/0Y/RgtGB0YLQstC40Y9cbiAgICByZWFkb25seSB2YWx1ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljVGFyZ2V0U2Vuc29ye1xuICAgIC8vICDRg9Cz0L7QuyDQvdCw0L/RgNCw0LLQu9C10L3QuNGPINC90LAg0YbQtdC70Ywg0LIg0YDQsNC00LjQsNC90LDRhVxuICAgIHJlYWRvbmx5IGFuZ2xlOiBudW1iZXI7XG4gICAgLy8gINGA0LDRgdGB0YLQvtGP0L3QuNC1INC00L4g0YbQtdC70LgsINCyINC/0L7Qv9GD0LPQsNGP0YVcbiAgICByZWFkb25seSBkaXN0YW5jZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2ljTWFwe1xuICAgIC8vINCS0YHQtSDQsNC60YLQvtGA0YtcbiAgICBhY3RvcnMoKTogQXJyYXk8TG9naWNBY3Rvcj47XG59XG5cbmV4cG9ydCBjbGFzcyBMb2dpY3tcbiAgICBwcml2YXRlIF9tYXA6IExvZ2ljTWFwO1xuXG4gICAgY29uc3RydWN0b3IobWFwOiBMb2dpY01hcCkge1xuICAgICAgICB0aGlzLl9tYXAgPSBtYXA7XG4gICAgfVxuXG4gICAgdGljayhkdDogbnVtYmVyKXtcbiAgICAgICAgdGhpcy5fbWFwLmFjdG9ycygpLmZvckVhY2goYWN0b3IgPT4ge1xuICAgICAgICAgICAgbGV0IHNlbnNvcl92YWx1ZXMgPSBhY3Rvci5zZW5zb3JzLm1hcCgodmFsKSA9PiB2YWwudmFsdWUpO1xuICAgICAgICAgICAgaW5mb19kaXNwbGF5LnByaW50X3NlbnNvcnNfZGlzdGFuY2Uoc2Vuc29yX3ZhbHVlcyk7XG4gICAgICAgICAgICBhY3Rvci5zdGF0dXMudXBkYXRlKHNlbnNvcl92YWx1ZXMsIGFjdG9yLnRhcmdldC5hbmdsZSwgYWN0b3IudGFyZ2V0LmRpc3RhbmNlKTtcbiAgICAgICAgICAgIGFjdG9yLm5lY2Vzc2FyeV9zcGVlZCA9IGFjdG9yLnN0YXR1cy5vdXRwdXRfc3BlZWQ7XG4gICAgICAgICAgICBhY3Rvci53aGVlbF9hbmdsZSA9IGFjdG9yLnN0YXR1cy5vdXRwdXRfdHVybjtcblxuICAgICAgICAgICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINCx0LvQuNC30L7RgdGC0Ywg0Log0YbQtdC70LhcbiAgICAgICAgICAgIGlmIChhY3Rvci50YXJnZXQuZGlzdGFuY2UgPCAyMClcbiAgICAgICAgICAgICAgICBhY3Rvci5uZWNlc3Nhcnlfc3BlZWQgPSAwO1xuICAgICAgICB9KVxuICAgIH1cbn0iLCJpbXBvcnQge0RyYXdlcn0gZnJvbSBcIi4vZ3JhcGhpY3MvZHJhd2VyXCI7XG5pbXBvcnQge0JsYW5rQ2FyLCBCbGFua01hcCwgQ2FyU2V0dGluZ3N9IGZyb20gXCIuL2Jhc2UvZW50aXRpZXNcIjtcbmltcG9ydCB7UG9pbnR9IGZyb20gXCIuL2Jhc2UvZ2VvbWV0cnlcIjtcbmltcG9ydCB7UGhpc2ljc0NvbnRleHR9IGZyb20gXCIuL3BoaXNpY3MvcGhpc2ljc1wiO1xuaW1wb3J0IHtMb2dpY30gZnJvbSBcIi4vbG9naWMvbG9naWNcIjtcblxuXG5leHBvcnQgY29uc3QgREVGQVVMVF9DQVIgPSB7XG4gICAgdHVybl9yYWRpdXM6IDE1LFxuICAgIG1heF9zcGVlZDogMTAwLFxuICAgIGFjY2VsZXJhdGlvbjogMTAsXG4gICAgc2Vuc29yX2xlbjogMTA1LFxuICAgIGNvb3JkaW5hdGVzOiBuZXcgUG9pbnQoNzUwLCA3NTApLFxuICAgIGFuZ2xlOiAwLFxufTtcblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfVEFSR0VUID0gbmV3IFBvaW50KDUwLCA1MCk7XG5cbmV4cG9ydCB0eXBlIFNldHRpbmdzID0ge1xuICAgIG1hcDogSW1hZ2VCaXRtYXAsXG4gICAgY2FyOiBJbWFnZUJpdG1hcCxcbiAgICBjYXJfc2V0dGluZ3M6IENhclNldHRpbmdzLFxuICAgIHRhcmdldDogUG9pbnQsXG4gICAgdGltZTogbnVtYmVyLFxufVxuXG5leHBvcnQgY2xhc3MgU2ltdWxhdG9yIHtcbiAgICBwdWJsaWMgY29udGV4dDogeyBtYXA6IEJsYW5rTWFwLCBjYXI6IEJsYW5rQ2FyIH0gfCBudWxsID0gbnVsbDtcbiAgICBwdWJsaWMgcGF1c2U6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGxhc3RUaW1lciA9IDA7XG4gICAgcHJpdmF0ZSB0aW1lckNhbGxiYWNrPzogKCkgPT4gdm9pZDtcbiAgICBwcml2YXRlIGR0ID0gMC4wNTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZHJhd2VyOiBEcmF3ZXIpIHtcbiAgICB9XG5cbiAgICBzZXRUYXJnZXQodGFyZ2V0OiBQb2ludCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0ICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5tYXAudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnRTaW11bGF0aW9uKHNldHRpbmdzOiBTZXR0aW5ncykge1xuXG4gICAgICAgIGxldCBtYXAgPSBuZXcgQmxhbmtNYXAoc2V0dGluZ3MubWFwLCBuZXcgQmxhbmtDYXIoc2V0dGluZ3MuY2FyLCBzZXR0aW5ncy5jYXJfc2V0dGluZ3MpLCBzZXR0aW5ncy50YXJnZXQpO1xuICAgICAgICBtYXAuY2FyLmNvb3JkaW5hdGVzID0gc2V0dGluZ3MuY2FyX3NldHRpbmdzLmNvb3JkaW5hdGVzO1xuICAgICAgICBsZXQgcGggPSBuZXcgUGhpc2ljc0NvbnRleHQobWFwKTtcbiAgICAgICAgdGhpcy5jb250ZXh0ID0ge21hcCwgY2FyOiBtYXAuY2FyfTtcbiAgICAgICAgbGV0IGxvZ2ljID0gbmV3IExvZ2ljKG1hcCk7XG4gICAgICAgIHRoaXMudGltZXJDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5wYXVzZSkge1xuICAgICAgICAgICAgICAgIHBoLnRpY2sodGhpcy5kdCk7XG4gICAgICAgICAgICAgICAgbG9naWMudGljayh0aGlzLmR0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd2VyLmRyYXcobWFwKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXN0YXJ0VGltZXIoc2V0dGluZ3MudGltZSlcbiAgICB9XG5cbiAgICByZXN0YXJ0VGltZXIodGltZU11bHRpcGx5OiBudW1iZXIpIHtcbiAgICAgICAgaWYgKHRoaXMubGFzdFRpbWVyICE9PSAwKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmxhc3RUaW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0VGltZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy50aW1lckNhbGxiYWNrISwgdGhpcy5kdCAqIDEwMDAgLyB0aW1lTXVsdGlwbHkpO1xuICAgIH1cbn0iLCJpbXBvcnQge0RyYXdlcn0gZnJvbSBcIi4vZ3JhcGhpY3MvZHJhd2VyXCI7XG5pbXBvcnQge2Rvd25sb2FkQml0bWFwLCBmaWxlQXNVUkx9IGZyb20gXCIuL2ltYWdlL2hlbHBlcnNcIjtcbmltcG9ydCB7REVGQVVMVF9DQVIsIERFRkFVTFRfVEFSR0VULCBTaW11bGF0b3J9IGZyb20gXCIuL3NpbXVsYXRvclwiO1xuaW1wb3J0IHtQb2ludH0gZnJvbSBcIi4vYmFzZS9nZW9tZXRyeVwiO1xuaW1wb3J0IHtGdW5jdGlvbkludGVydmFsc30gZnJvbSBcIi4vbG9naWMvZnVuY3Rpb25faW50ZXJ2YWxzXCI7XG5pbXBvcnQgJy4vaW5kZXguY3NzJ1xuXG4oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYXgtc3BlZWRcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBERUZBVUxUX0NBUi5tYXhfc3BlZWQudG9TdHJpbmcoKTtcbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR1cm4tcmFkaXVzXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gREVGQVVMVF9DQVIudHVybl9yYWRpdXMudG9TdHJpbmcoKTtcbihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnNvci1sZW5ndGhcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBERUZBVUxUX0NBUi5zZW5zb3JfbGVuLnRvU3RyaW5nKCk7XG5cbmNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYWluJykgYXMgSFRNTENhbnZhc0VsZW1lbnQ7XG5jb25zdCBkcmF3ZXIgPSBuZXcgRHJhd2VyKGNhbnZhcyk7XG5jb25zdCBzaW11bGF0b3IgPSBuZXcgU2ltdWxhdG9yKGRyYXdlcik7XG5cbmNvbnN0IHBhdXNlX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RhcnQtYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50XG5cbmZ1bmN0aW9uIHBhdXNlKCkge1xuICAgIHNpbXVsYXRvci5wYXVzZSA9IHRydWU7XG4gICAgcGF1c2VfYnV0dG9uLnRleHRDb250ZW50ID0gXCJDb250aW51ZVwiXG59XG5cbmZ1bmN0aW9uIHVucGF1c2UoKSB7XG4gICAgc2ltdWxhdG9yLnBhdXNlID0gZmFsc2U7XG4gICAgcGF1c2VfYnV0dG9uLnRleHRDb250ZW50ID0gXCJQYXVzZVwiXG59XG5cbmZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICBpZiAoc2ltdWxhdG9yLnBhdXNlKVxuICAgICAgICB1bnBhdXNlKCk7XG4gICAgZWxzZVxuICAgICAgICBwYXVzZSgpO1xufVxuXG5wYXVzZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldiA9PiB7XG4gICAgdG9nZ2xlKCk7XG59KVxuXG51bnBhdXNlKCk7XG5cblByb21pc2UuYWxsKFtcImNpcmN1czIucG5nXCIsIFwic21hbGxfY2FyLnBuZ1wiXS5tYXAoc3JjID0+IGRvd25sb2FkQml0bWFwKGAuL3Jlc291cmNlcy8ke3NyY31gKSkpXG4gICAgLnRoZW4oZnVuY3Rpb24gKFttYXAsIGNhcl0pIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB7bWFwLCBjYXIsIGNhcl9zZXR0aW5nczogREVGQVVMVF9DQVIsIHRhcmdldDogREVGQVVMVF9UQVJHRVQsIHRpbWU6IDF9O1xuICAgICAgICBzaW11bGF0b3Iuc3RhcnRTaW11bGF0aW9uKHNldHRpbmdzKTtcbiAgICAgICAgY29uc3QgbWFwX2Zvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1hcC1zZXR0aW5nc1wiKSBhcyBIVE1MRm9ybUVsZW1lbnQ7XG4gICAgICAgIG1hcF9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZXYgPT4ge1xuICAgICAgICAgICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignaW5wdXRbdHlwZT1cImZpbGVcIl0nKTtcbiAgICAgICAgICAgIGNvbnN0IG1heWJlSW1nID0gZmlsZUlucHV0Py5maWxlcz8uaXRlbSgwKTtcbiAgICAgICAgICAgIGlmIChtYXliZUltZykge1xuICAgICAgICAgICAgICAgIGZpbGVBc1VSTChtYXliZUltZykudGhlbihkb3dubG9hZEJpdG1hcCkudGhlbihtYXAgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5tYXAgPSBtYXA7XG4gICAgICAgICAgICAgICAgICAgIHBhdXNlKCk7XG4gICAgICAgICAgICAgICAgICAgIHNpbXVsYXRvci5zdGFydFNpbXVsYXRpb24oc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjYXJfZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FyLXNldHRpbmdzXCIpIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICAgICAgY2FyX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBldiA9PiB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgbGV0IG1heF9zcGVlZCA9IHBhcnNlSW50KChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1heC1zcGVlZFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gICAgICAgICAgICBsZXQgdHVybl9yYWRpdXMgPSBwYXJzZUludCgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0dXJuLXJhZGl1c1wiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSk7XG4gICAgICAgICAgICBsZXQgc2Vuc29yX2xlbiA9IHBhcnNlSW50KChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNlbnNvci1sZW5ndGhcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUpO1xuICAgICAgICAgICAgaWYgKG1heF9zcGVlZCAhPSBudWxsICYmIHR1cm5fcmFkaXVzICE9IG51bGwgJiYgc2Vuc29yX2xlbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFGdW5jdGlvbkludGVydmFscy52YWxpZGF0ZV9pbnB1dF92YWx1ZXModHVybl9yYWRpdXMsIHNlbnNvcl9sZW4sIG1heF9zcGVlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLQndC10LrQvtGA0YDQtdC60YLQvdGL0LUg0LLRhdC+0LTQvdGL0LUg0LTQsNC90L3Ri9C1OiBcXG5cIiArIEZ1bmN0aW9uSW50ZXJ2YWxzLnZhbGlkYXRlX2lucHV0X3ZhbHVlcy50b1N0cmluZygpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3MuY2FyX3NldHRpbmdzLm1heF9zcGVlZCA9IG1heF9zcGVlZDtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5jYXJfc2V0dGluZ3MudHVybl9yYWRpdXMgPSB0dXJuX3JhZGl1cztcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5jYXJfc2V0dGluZ3Muc2Vuc29yX2xlbiA9IHNlbnNvcl9sZW47XG5cbiAgICAgICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICAgICAgICAgIHNpbXVsYXRvci5zdGFydFNpbXVsYXRpb24oc2V0dGluZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV0IHRhcmRpcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGFyZGlzXCIpIGFzIEhUTUxGb3JtRWxlbWVudDtcbiAgICAgICAgdGFyZGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgZXYgPT4ge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldHRpbmdzLnRpbWUgPSB0YXJkaXMucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignaW5wdXRbdHlwZT1cIm51bWJlclwiXScpIS52YWx1ZUFzTnVtYmVyO1xuICAgICAgICAgICAgc2ltdWxhdG9yLnJlc3RhcnRUaW1lcihzZXR0aW5ncy50aW1lKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZXYgPT4ge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgbGV0IHggPSBldi5wYWdlWCAtIGNhbnZhcy5vZmZzZXRMZWZ0O1xuICAgICAgICAgICAgbGV0IHkgPSBldi5wYWdlWSAtIGNhbnZhcy5vZmZzZXRUb3A7XG4gICAgICAgICAgICBzZXR0aW5ncy50YXJnZXQgPSBkcmF3ZXIuc2NhbGUobmV3IFBvaW50KHgsIHkpKTtcbiAgICAgICAgICAgIHNpbXVsYXRvci5zZXRUYXJnZXQoc2V0dGluZ3MudGFyZ2V0KVxuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJhdXhjbGlja1wiLCBldiA9PiB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBsZXQgeCA9IGV2LnBhZ2VYIC0gY2FudmFzLm9mZnNldExlZnQ7XG4gICAgICAgICAgICBsZXQgeSA9IGV2LnBhZ2VZIC0gY2FudmFzLm9mZnNldFRvcDtcbiAgICAgICAgICAgIHNldHRpbmdzLmNhcl9zZXR0aW5ncy5jb29yZGluYXRlcyA9IGRyYXdlci5zY2FsZShuZXcgUG9pbnQoeCwgeSkpO1xuXG4gICAgICAgICAgICBwYXVzZSgpO1xuICAgICAgICAgICAgc2ltdWxhdG9yLnN0YXJ0U2ltdWxhdGlvbihzZXR0aW5ncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIndoZWVsXCIsIGV2ID0+IHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoc2ltdWxhdG9yLnBhdXNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNpbXVsYXRvci5jb250ZXh0ICE9IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmNhcl9zZXR0aW5ncy5jb29yZGluYXRlcyA9IHNpbXVsYXRvci5jb250ZXh0LmNhci5jb29yZGluYXRlcztcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5jYXJfc2V0dGluZ3MuYW5nbGUgKz0gZXYuZGVsdGFZICogMC4wMDI7XG4gICAgICAgICAgICAgICAgc2ltdWxhdG9yLnN0YXJ0U2ltdWxhdGlvbihzZXR0aW5ncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4iXSwic291cmNlUm9vdCI6IiJ9